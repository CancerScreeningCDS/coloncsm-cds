<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorVersion="3.11.0" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="2281">
         <a:s>library DataElements version '1.0.0'</a:s>
      </a:s>
   </annotation>
   <identifier id="DataElements" system="http://cancerscreeningcds.github.io/crcsm-cds" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="207" locator="5:1-5:63" localIdentifier="C3F" path="http://cancerscreeningcds.github.io/crcsm-cds/CDSConnectCommonsforFHIRv401" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CDSConnectCommonsforFHIRv401</a:s>
               </a:s>
               <a:s> version '1.0.0' called C3F</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="208" locator="6:1-6:56" localIdentifier="Common" path="http://cancerscreeningcds.github.io/crcsm-cds/CSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called Common</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="209" locator="7:1-7:55" localIdentifier="FHIRHelpers" path="http://cancerscreeningcds.github.io/crcsm-cds/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s>  version '4.0.1' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="8:1-8:63" localIdentifier="CRCSMCommon" path="http://cancerscreeningcds.github.io/crcsm-cds/CRCSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CRCSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called CRCSMCommon</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="370" locator="138:1-138:39" name="encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="370">
               <a:s>//------------------------------------------------------------------------------
// PARAMETERS
//------------------------------------------------------------------------------

parameter encounter </a:s>
               <a:s r="372">
                  <a:s>String</a:s>
               </a:s>
               <a:s r="371"> default null</a:s>
            </a:s>
         </annotation>
         <default localId="373" asType="t:String" xsi:type="As">
            <operand localId="371" locator="138:36-138:39" xsi:type="Null"/>
         </default>
         <parameterTypeSpecifier localId="372" locator="138:21-138:26" name="t:String" xsi:type="NamedTypeSpecifier"/>
      </def>
      <def localId="374" locator="139:1-139:51" name="ObservationLookbackPeriod" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="374">
               <a:s>parameter ObservationLookbackPeriod default </a:s>
               <a:s r="375">
                  <a:s>14 days</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="375" locator="139:45-139:51" value="14" unit="days" xsi:type="Quantity"/>
      </def>
      <def localId="376" locator="140:1-140:44" name="SymptomaticLookBack" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="376">
               <a:s>parameter SymptomaticLookBack default </a:s>
               <a:s r="377">
                  <a:s>1 days</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="377" locator="140:39-140:44" value="1" unit="days" xsi:type="Quantity"/>
      </def>
      <def localId="378" locator="141:1-141:51" name="ScreeningHistoryLookback" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="378">
               <a:s>//TODO: verify if change from 14 to 1 day per alignment with Breast is correct
parameter ScreeningHistoryLookback default </a:s>
               <a:s r="379">
                  <a:s>10 years</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="379" locator="141:44-141:51" value="10" unit="years" xsi:type="Quantity"/>
      </def>
   </parameters>
   <codeSystems>
      <def localId="211" locator="14:1-14:38" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>//------------------------------------------------------------------------------
// CODE SYSTEMS, VALUE SETS, AND CODES
//------------------------------------------------------------------------------

codesystem &quot;LOINC&quot;: 'http://loinc.org'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="212" locator="15:1-15:48" name="SNOMED-CT" id="http://snomed.info/sct" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="212">
               <a:s>codesystem &quot;SNOMED-CT&quot;: 'http://snomed.info/sct'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="213" locator="16:1-16:66" name="RXNORM" id="http://www.nlm.nih.gov/research/umls/rxnorm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="213">
               <a:s>codesystem &quot;RXNORM&quot;: 'http://www.nlm.nih.gov/research/umls/rxnorm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="214" locator="17:1-17:54" name="ICD-9" id="http://hl7.org/fhir/sid/icd-9-cm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="214">
               <a:s>codesystem &quot;ICD-9&quot;: 'http://hl7.org/fhir/sid/icd-9-cm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="215" locator="18:1-18:56" name="ICD-10" id="http://hl7.org/fhir/sid/icd-10-cm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="215">
               <a:s>codesystem &quot;ICD-10&quot;: 'http://hl7.org/fhir/sid/icd-10-cm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="216" locator="19:1-19:87" name="CONDCLINSTATUS" id="http://terminology.hl7.org/CodeSystem/condition-clinical" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="216">
               <a:s>codesystem &quot;CONDCLINSTATUS&quot;: 'http://terminology.hl7.org/CodeSystem/condition-clinical'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="217" locator="20:1-20:77" name="v3-RoleCode" id="http://terminology.hl7.org/CodeSystem/v3-RoleCode" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>codesystem &quot;v3-RoleCode&quot;: 'http://terminology.hl7.org/CodeSystem/v3-RoleCode'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="218" locator="23:1-23:112" name="LOCAL" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/screening-observation-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="218">
               <a:s>// Local code systems
codesystem &quot;LOCAL&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/screening-observation-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="219" locator="24:1-24:116" name="CRADS2005CodeSystem" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2005-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="219">
               <a:s>codesystem &quot;CRADS2005CodeSystem&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2005-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="220" locator="25:1-25:116" name="CRADS2023CodeSystem" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2023-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="220">
               <a:s>codesystem &quot;CRADS2023CodeSystem&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2023-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="290" locator="61:1-61:109" name="COLORECTAL CANCER" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="290">
               <a:s>// Colorectal diagnoses, procedures, and observations
valueset &quot;COLORECTAL CANCER&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="291" locator="63:1-63:117" name="TOTAL COLECTOMY PROCEDURE" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1019" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="291">
               <a:s>//TODO: I tried 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.325' but does not exist on vsac
valueset &quot;TOTAL COLECTOMY PROCEDURE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1019'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="292" locator="64:1-64:100" name="ULCERATIVE COLITIS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="292">
               <a:s>valueset &quot;ULCERATIVE COLITIS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="293" locator="65:1-65:96" name="CROHNS DISEASE" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="293">
               <a:s>valueset &quot;CROHNS DISEASE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="294" locator="67:1-67:118" name="COLORECTAL CANCER FINDINGS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="294">
               <a:s>// TODO: replace placeholder  
valueset &quot;COLORECTAL CANCER FINDINGS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="295" locator="69:1-69:110" name="COLONOSCOPY ORDERS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1020" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="295">
               <a:s>// TODO: replace placeholder 
valueset &quot;COLONOSCOPY ORDERS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1020'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="296" locator="70:1-70:113" name="Colorectal Screening Modalities" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.361" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="296">
               <a:s>valueset &quot;Colorectal Screening Modalities&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.361'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="297" locator="73:1-73:131" name="Non Bleeding Colorectal Cancer Signs and Symptoms" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.336" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="297">
               <a:s>// Signs and symptoms
valueset &quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.336'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="298" locator="74:1-74:96" name="Blood in Stool" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.330" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="298">
               <a:s>valueset &quot;Blood in Stool&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.330'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="299" locator="78:1-78:90" name="Pregnancy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="299">
               <a:s>//valueset &quot;Iron Decifiency Anemia without Specified Cause&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.332'

// Pregnancy
valueset &quot;Pregnancy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="300" locator="79:1-79:135" name="Pregnancy (New ICD10 codes published in 2018 and 2020)" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.80" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="300">
               <a:s>valueset &quot;Pregnancy (New ICD10 codes published in 2018 and 2020)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.80'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="333" locator="105:1-105:115" name="Fecal Occult Blood Test" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.11.1020" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="333">
               <a:s>//------------------------------------------------------------------------------
// VERIFIED TERMINOLOGY
//------------------------------------------------------------------------------

valueset &quot;Fecal Occult Blood Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.11.1020'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="334" locator="106:1-106:105" name="Stool DNA-FIT" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.11.1145" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="334">
               <a:s>// Includes FIT and gFOBT, which cannot always be distinguished in LOINC; Steward: NCQA
valueset &quot;Stool DNA-FIT&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.11.1145'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="335" locator="107:1-107:99" name="Colonoscopy Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.356" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="335">
               <a:s>// Steward: NCQA
valueset &quot;Colonoscopy Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.356'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="336" locator="108:1-108:113" name="CT Colonography Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.11.1097" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="336">
               <a:s>// for use with document type/diagnostic report
valueset &quot;CT Colonography Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.11.1097'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="337" locator="109:1-109:110" name="Flexible Sigmoidoscopy Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.359" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="337">
               <a:s>// For use with document type/diagnostic report. Steward: NCQA Phemur
valueset &quot;Flexible Sigmoidoscopy Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.359'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="338" locator="111:1-111:119" name="Potentially Precancerous Polyp SNOMED" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.353" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="338">
               <a:s>// for use with document type/diagnostic report

valueset &quot;Potentially Precancerous Polyp SNOMED&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.353'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="339" locator="112:1-112:106" name="Colorectal Cancer SNOMED" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.326" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="339">
               <a:s>// Using SNOMED CT only since no expectation of ICD-10-CM associated with DiagnosticReport or Observation
valueset &quot;Colorectal Cancer SNOMED&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.326'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="221" locator="27:1-27:77" name="Condition active code" id="active" display="Active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>code &quot;Condition active code&quot;: 'active' from </a:s>
               <a:s r="222">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Active'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="222" locator="27:45-27:60" name="CONDCLINSTATUS"/>
      </def>
      <def localId="223" locator="28:1-28:83" name="Condition inactive code" id="inactive" display="Inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="223">
               <a:s>code &quot;Condition inactive code&quot;: 'inactive' from </a:s>
               <a:s r="224">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Inactive'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="224" locator="28:49-28:64" name="CONDCLINSTATUS"/>
      </def>
      <def localId="225" locator="29:1-29:86" name="Condition remission code" id="remission" display="Remission" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="225">
               <a:s>code &quot;Condition remission code&quot;: 'remission' from </a:s>
               <a:s r="226">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Remission'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="226" locator="29:51-29:66" name="CONDCLINSTATUS"/>
      </def>
      <def localId="227" locator="30:1-30:83" name="Condition resolved code" id="resolved" display="Resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="227">
               <a:s>code &quot;Condition resolved code&quot;: 'resolved' from </a:s>
               <a:s r="228">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Resolved'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="228" locator="30:49-30:64" name="CONDCLINSTATUS"/>
      </def>
      <def localId="229" locator="31:1-31:131" name="Reduced life expectancy indicator" id="ReducedLifeExpectancyIndicator" display="Reduced life expectancy indicator" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="229">
               <a:s>code &quot;Reduced life expectancy indicator&quot;: 'ReducedLifeExpectancyIndicator' from </a:s>
               <a:s r="230">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Reduced life expectancy indicator'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="230" locator="31:81-31:87" name="LOCAL"/>
      </def>
      <def localId="231" locator="32:1-32:56" name="father" id="FTH" display="father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="231">
               <a:s>code &quot;father&quot;: 'FTH' from </a:s>
               <a:s r="232">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'father'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="232" locator="32:27-32:39" name="v3-RoleCode"/>
      </def>
      <def localId="233" locator="33:1-33:56" name="mother" id="MTH" display="mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="233">
               <a:s>code &quot;mother&quot;: 'MTH' from </a:s>
               <a:s r="234">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'mother'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="234" locator="33:27-33:39" name="v3-RoleCode"/>
      </def>
      <def localId="235" locator="34:1-34:56" name="child" id="CHILD" display="child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="235">
               <a:s>code &quot;child&quot;: 'CHILD' from </a:s>
               <a:s r="236">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'child'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="236" locator="34:28-34:40" name="v3-RoleCode"/>
      </def>
      <def localId="237" locator="35:1-35:51" name="son" id="SONC" display="son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="237">
               <a:s>code &quot;son&quot;: 'SONC' from </a:s>
               <a:s r="238">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'son'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="238" locator="35:25-35:37" name="v3-RoleCode"/>
      </def>
      <def localId="239" locator="36:1-36:61" name="daughter" id="DAUC" display="daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="239">
               <a:s>code &quot;daughter&quot;: 'DAUC' from </a:s>
               <a:s r="240">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'daughter'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="240" locator="36:30-36:42" name="v3-RoleCode"/>
      </def>
      <def localId="241" locator="37:1-37:73" name="natural father" id="NFTH" display="natural father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="241">
               <a:s>code &quot;natural father&quot;: 'NFTH' from </a:s>
               <a:s r="242">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural father'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="242" locator="37:36-37:48" name="v3-RoleCode"/>
      </def>
      <def localId="243" locator="38:1-38:73" name="natural mother" id="NMTH" display="natural mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="243">
               <a:s>code &quot;natural mother&quot;: 'NMTH' from </a:s>
               <a:s r="244">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural mother'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="244" locator="38:36-38:48" name="v3-RoleCode"/>
      </def>
      <def localId="245" locator="39:1-39:91" name="natural mother of fetus" id="NMTH" display="natural mother of fetus" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="245">
               <a:s>code &quot;natural mother of fetus&quot;: 'NMTH' from </a:s>
               <a:s r="246">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural mother of fetus'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="246" locator="39:45-39:57" name="v3-RoleCode"/>
      </def>
      <def localId="247" locator="40:1-40:73" name="natural child" id="NCHILD" display="natural child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="247">
               <a:s>code &quot;natural child&quot;: 'NCHILD' from </a:s>
               <a:s r="248">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural child'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="248" locator="40:37-40:49" name="v3-RoleCode"/>
      </def>
      <def localId="249" locator="41:1-41:66" name="natural son" id="SON" display="natural son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="249">
               <a:s>code &quot;natural son&quot;: 'SON' from </a:s>
               <a:s r="250">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural son'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="250" locator="41:32-41:44" name="v3-RoleCode"/>
      </def>
      <def localId="251" locator="42:1-42:76" name="natural daughter" id="DAU" display="natural daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="251">
               <a:s>code &quot;natural daughter&quot;: 'DAU' from </a:s>
               <a:s r="252">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural daughter'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="252" locator="42:37-42:49" name="v3-RoleCode"/>
      </def>
      <def localId="253" locator="43:1-43:107" name="FAP SNOMED CT" id="72900001" display="Familial multiple polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="253">
               <a:s>code &quot;FAP SNOMED CT&quot;: '72900001' from </a:s>
               <a:s r="254">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Familial multiple polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="254" locator="43:39-43:49" name="SNOMED-CT"/>
      </def>
      <def localId="255" locator="44:1-44:85" name="FAP ICD-10-CM" id="D13.91" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="255">
               <a:s>code &quot;FAP ICD-10-CM&quot;: 'D13.91' from </a:s>
               <a:s r="256">
                  <a:s>&quot;ICD-10&quot;</a:s>
               </a:s>
               <a:s> display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="256" locator="44:37-44:44" name="ICD-10"/>
      </def>
      <def localId="257" locator="45:1-45:114" name="AFAP SNOMED CT" id="715866009" display="Attenuated familial adenomatous polyposis (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="257">
               <a:s>code &quot;AFAP SNOMED CT&quot;: '715866009' from </a:s>
               <a:s r="258">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Attenuated familial adenomatous polyposis (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="258" locator="45:41-45:51" name="SNOMED-CT"/>
      </def>
      <def localId="259" locator="46:1-46:86" name="AFAP ICD-10-CM" id="D13.91" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="259">
               <a:s>code &quot;AFAP ICD-10-CM&quot;: 'D13.91' from </a:s>
               <a:s r="260">
                  <a:s>&quot;ICD-10&quot;</a:s>
               </a:s>
               <a:s> display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="260" locator="46:38-46:45" name="ICD-10"/>
      </def>
      <def localId="301" locator="82:1-82:87" name="LYNCH SYNDROME" id="716318002" display="Lynch syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="301">
               <a:s>// Standard codes
code &quot;LYNCH SYNDROME&quot;: '716318002' from </a:s>
               <a:s r="302">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Lynch syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="302" locator="82:41-82:51" name="SNOMED-CT"/>
      </def>
      <def localId="303" locator="83:1-83:118" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" id="423471004" display="MYH-associated polyposis (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="303">
               <a:s>code &quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;: '423471004' from </a:s>
               <a:s r="304">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'MYH-associated polyposis (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="304" locator="83:62-83:72" name="SNOMED-CT"/>
      </def>
      <def localId="305" locator="84:1-84:117" name="SERRATED POLYPOSIS SYNDROME" id="763536006" display="Hyperplastic polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="305">
               <a:s>code &quot;SERRATED POLYPOSIS SYNDROME&quot;: '763536006' from </a:s>
               <a:s r="306">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Hyperplastic polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="306" locator="84:54-84:64" name="SNOMED-CT"/>
      </def>
      <def localId="307" locator="85:1-85:111" name="JUVENILE POLYPOSIS SYNDROME" id="9273005" display="Juvenile polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="307">
               <a:s>code &quot;JUVENILE POLYPOSIS SYNDROME&quot;: '9273005' from </a:s>
               <a:s r="308">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Juvenile polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="308" locator="85:52-85:62" name="SNOMED-CT"/>
      </def>
      <def localId="309" locator="86:1-86:101" name="PEUTZ-JEGHER SYNDROME" id="54411001" display="Peutz-Jeghers syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="309">
               <a:s>code &quot;PEUTZ-JEGHER SYNDROME&quot;: '54411001' from </a:s>
               <a:s r="310">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Peutz-Jeghers syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="310" locator="86:47-86:57" name="SNOMED-CT"/>
      </def>
      <def localId="311" locator="87:1-87:88" name="COWDEN SYNDROME" id="58037000" display="Cowden syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="311">
               <a:s>code &quot;COWDEN SYNDROME&quot;: '58037000' from </a:s>
               <a:s r="312">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Cowden syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="312" locator="87:41-87:51" name="SNOMED-CT"/>
      </def>
      <def localId="313" locator="88:1-88:126" name="FAMILIAL COLORECTAL CANCER TYPE X" id="1197359006" display="Familial colorectal cancer type X (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="313">
               <a:s>code &quot;FAMILIAL COLORECTAL CANCER TYPE X&quot;: '1197359006' from </a:s>
               <a:s r="314">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Familial colorectal cancer type X (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="314" locator="88:61-88:71" name="SNOMED-CT"/>
      </def>
      <def localId="315" locator="89:1-89:141" name="FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS" id="429969003" display="Family history of polyp of colon (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="315">
               <a:s>code &quot;FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS&quot;: '429969003' from </a:s>
               <a:s r="316">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of polyp of colon (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="316" locator="89:76-89:86" name="SNOMED-CT"/>
      </def>
      <def localId="317" locator="90:1-90:113" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" id="68496003" display="Polyp of colon (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="317">
               <a:s>code &quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;: '68496003' from </a:s>
               <a:s r="318">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Polyp of colon (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="318" locator="90:67-90:77" name="SNOMED-CT"/>
      </def>
      <def localId="319" locator="91:1-91:154" name="HISTORY OF COLORECTAL CANCER" id="1286880003" display="History of malignant neoplasm of cecum and/or colon and/or rectum (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="319">
               <a:s>code &quot;HISTORY OF COLORECTAL CANCER&quot;: '1286880003' from </a:s>
               <a:s r="320">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'History of malignant neoplasm of cecum and/or colon and/or rectum (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="320" locator="91:56-91:66" name="SNOMED-CT"/>
      </def>
      <def localId="321" locator="92:1-92:128" name="FAMILY HISTORY OF COLORECTAL CANCER" id="312824007" display="Family history of cancer of colon (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="321">
               <a:s>code &quot;FAMILY HISTORY OF COLORECTAL CANCER&quot;: '312824007' from </a:s>
               <a:s r="322">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of cancer of colon (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="322" locator="92:62-92:72" name="SNOMED-CT"/>
      </def>
      <def localId="323" locator="93:1-93:74" name="Pregnancy Status" id="82810-3" display="Pregnancy status" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="323">
               <a:s>code &quot;Pregnancy Status&quot;: '82810-3' from </a:s>
               <a:s r="324">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Pregnancy status'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="324" locator="93:41-93:47" name="LOINC"/>
      </def>
      <def localId="325" locator="94:1-94:109" name="Patient currently pregnant" id="77386006" display="Patient currently pregnant (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="325">
               <a:s>code &quot;Patient currently pregnant&quot;: '77386006' from </a:s>
               <a:s r="326">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Patient currently pregnant (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="326" locator="94:52-94:62" name="SNOMED-CT"/>
      </def>
      <def localId="327" locator="95:1-95:104" name="Pregnancy Episode Of Care" id="424525001" display="Antenatal care (regime/therapy)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="327">
               <a:s>code &quot;Pregnancy Episode Of Care&quot;: '424525001' from </a:s>
               <a:s r="328">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Antenatal care (regime/therapy)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="328" locator="95:52-95:62" name="SNOMED-CT"/>
      </def>
      <def localId="329" locator="98:1-98:125" name="New or worsening colorectal symptoms" id="ColorectalSymptoms" display="New or worsening colorectal symptoms" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="329">
               <a:s>// Non-standard or &quot;local&quot; codes
code &quot;New or worsening colorectal symptoms&quot;: 'ColorectalSymptoms' from </a:s>
               <a:s r="330">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'New or worsening colorectal symptoms'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="330" locator="98:72-98:78" name="LOCAL"/>
      </def>
      <def localId="331" locator="99:1-99:127" name="Relative with hereditary syndrome" id="RelativeHereditarySyndrome" display="Relative with hereditary syndrome" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="331">
               <a:s>code &quot;Relative with hereditary syndrome&quot;: 'RelativeHereditarySyndrome' from </a:s>
               <a:s r="332">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Relative with hereditary syndrome'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="332" locator="99:77-99:83" name="LOCAL"/>
      </def>
      <def localId="340" locator="114:1-114:100" name="Colonoscopy Study Observation" id="28023-0" display="Colonoscopy Study observation" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="340">
               <a:s>// Using SNOMED CT only since no expectation of ICD-10-CM associated with DiagnosticReport or Observation

code &quot;Colonoscopy Study Observation&quot;: '28023-0' from </a:s>
               <a:s r="341">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Colonoscopy Study observation'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="341" locator="114:54-114:60" name="LOINC"/>
      </def>
      <def localId="342" locator="115:1-115:122" name="Flexible Sigmoidoscopy Study Observation" id="28027-1" display="Flexible Sigmoidoscopy Study observation" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="342">
               <a:s>code &quot;Flexible Sigmoidoscopy Study Observation&quot;: '28027-1' from </a:s>
               <a:s r="343">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Flexible Sigmoidoscopy Study observation'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="343" locator="115:65-115:71" name="LOINC"/>
      </def>
      <def localId="344" locator="117:1-117:128" name="C-RADS 2005 C0" id="C0" display="C-RADS Category 0 - Inadequate study/awaiting prior comparisons" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="344">
               <a:s>code &quot;C-RADS 2005 C0&quot;: 'C0' from </a:s>
               <a:s r="345">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 0 - Inadequate study/awaiting prior comparisons'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="345" locator="117:34-117:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="346" locator="118:1-118:128" name="C-RADS 2023 C0" id="C0" display="C-RADS Category 0 - Inadequate study/awaiting prior comparisons" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="346">
               <a:s>code &quot;C-RADS 2023 C0&quot;: 'C0' from </a:s>
               <a:s r="347">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 0 - Inadequate study/awaiting prior comparisons'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="347" locator="118:34-118:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="348" locator="119:1-119:169" name="C-RADS 2005 C2" id="C2" display="C-RADS Category 2 - Intermediate polyp or indeterminate finding: surveillance or colonoscopy recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="348">
               <a:s>code &quot;C-RADS 2005 C2&quot;: 'C2' from </a:s>
               <a:s r="349">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 2 - Intermediate polyp or indeterminate finding: surveillance or colonoscopy recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="349" locator="119:34-119:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="350" locator="120:1-120:131" name="C-RADS 2023 C2a" id="C2a" display="C-RADS Category 2a - Intermediate polyp or indeterminate finding" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="350">
               <a:s>code &quot;C-RADS 2023 C2a&quot;: 'C2a' from </a:s>
               <a:s r="351">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 2a - Intermediate polyp or indeterminate finding'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="351" locator="120:36-120:56" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="352" locator="121:1-121:152" name="C-RADS 2005 C3" id="C3" display="C-RADS Category 3 - Polyp, possibly advanced adenoma: follow-up colonoscopy recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="352">
               <a:s>code &quot;C-RADS 2005 C3&quot;: 'C3' from </a:s>
               <a:s r="353">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 3 - Polyp, possibly advanced adenoma: follow-up colonoscopy recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="353" locator="121:34-121:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="354" locator="122:1-122:117" name="C-RADS 2023 C3" id="C3" display="C-RADS Category 3 - Polyp, possibly advanced adenoma" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="354">
               <a:s>code &quot;C-RADS 2023 C3&quot;: 'C3' from </a:s>
               <a:s r="355">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 3 - Polyp, possibly advanced adenoma'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="355" locator="122:34-122:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="356" locator="123:1-123:150" name="C-RADS 2005 C4" id="C4" display="C-RADS Category 4 - Colonic mass, likely malignant: surgical consultation recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="356">
               <a:s>code &quot;C-RADS 2005 C4&quot;: 'C4' from </a:s>
               <a:s r="357">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 4 - Colonic mass, likely malignant: surgical consultation recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="357" locator="123:34-123:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="358" locator="124:1-124:115" name="C-RADS 2023 C4" id="C4" display="C-RADS Category 4 - Colonic mass, likely malignant" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="358">
               <a:s>code &quot;C-RADS 2023 C4&quot;: 'C4' from </a:s>
               <a:s r="359">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 4 - Colonic mass, likely malignant'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="359" locator="124:34-124:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="360" locator="128:1-128:70" name="Colonoscopy" id="18746-8" display="Colonoscopy study" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="360">
               <a:s>// Modalities
code &quot;Colonoscopy&quot;: '18746-8' from </a:s>
               <a:s r="361">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Colonoscopy study'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="361" locator="128:36-128:42" name="LOINC"/>
      </def>
      <def localId="362" locator="129:1-129:92" name="Flexible Sigmoidoscopy" id="18753-4" display="Flexible sigmoidoscopy study" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="362">
               <a:s>code &quot;Flexible Sigmoidoscopy&quot;: '18753-4' from </a:s>
               <a:s r="363">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Flexible sigmoidoscopy study'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="363" locator="129:47-129:53" name="LOINC"/>
      </def>
      <def localId="364" locator="130:1-130:103" name="CT Colonography" id="425666002" display="Computed tomography of colon (procedure)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="364">
               <a:s>code &quot;CT Colonography&quot;: '425666002' from </a:s>
               <a:s r="365">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Computed tomography of colon (procedure)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="365" locator="130:42-130:52" name="SNOMED-CT"/>
      </def>
      <def localId="366" locator="131:1-131:92" name="FOBT" id="2335-8" display="Hemoglobin.gastrointestinal [Presence] in Stool" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="366">
               <a:s>code &quot;FOBT&quot;: '2335-8' from </a:s>
               <a:s r="367">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Hemoglobin.gastrointestinal [Presence] in Stool'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="367" locator="131:28-131:34" name="LOINC"/>
      </def>
      <def localId="368" locator="132:1-132:130" name="sDNA-FIT" id="77354-9" display="Noninvasive colorectal cancer DNA and occult blood screening [Presence] in Stool" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="368">
               <a:s>code &quot;sDNA-FIT&quot;: '77354-9' from </a:s>
               <a:s r="369">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Noninvasive colorectal cancer DNA and occult blood screening [Presence] in Stool'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="369" locator="132:33-132:39" name="LOINC"/>
      </def>
   </codes>
   <concepts>
      <def localId="261" locator="48:1-48:78" name="Condition inactive" display="Inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="261">
               <a:s>concept &quot;Condition inactive&quot;: { </a:s>
               <a:s r="262">
                  <a:s>&quot;Condition inactive code&quot;</a:s>
               </a:s>
               <a:s> } display 'Inactive'</a:s>
            </a:s>
         </annotation>
         <code localId="262" locator="48:33-48:57" name="Condition inactive code"/>
      </def>
      <def localId="263" locator="49:1-49:81" name="Condition remission" display="Remission" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="263">
               <a:s>concept &quot;Condition remission&quot;: { </a:s>
               <a:s r="264">
                  <a:s>&quot;Condition remission code&quot;</a:s>
               </a:s>
               <a:s> } display 'Remission'</a:s>
            </a:s>
         </annotation>
         <code localId="264" locator="49:34-49:59" name="Condition remission code"/>
      </def>
      <def localId="265" locator="50:1-50:78" name="Condition resolved" display="Resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="265">
               <a:s>concept &quot;Condition resolved&quot;: { </a:s>
               <a:s r="266">
                  <a:s>&quot;Condition resolved code&quot;</a:s>
               </a:s>
               <a:s> } display 'Resolved'</a:s>
            </a:s>
         </annotation>
         <code localId="266" locator="50:33-50:57" name="Condition resolved code"/>
      </def>
      <def localId="267" locator="51:1-51:72" name="Condition Active" display="Active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="267">
               <a:s>concept &quot;Condition Active&quot;: { </a:s>
               <a:s r="268">
                  <a:s>&quot;Condition active code&quot;</a:s>
               </a:s>
               <a:s> } display 'Active'</a:s>
            </a:s>
         </annotation>
         <code localId="268" locator="51:31-51:53" name="Condition active code"/>
      </def>
      <def localId="269" locator="52:1-52:62" name="FTH" display="father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="269">
               <a:s>concept &quot;FTH&quot;: { </a:s>
               <a:s r="270">
                  <a:s>&quot;father&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="271">
                  <a:s>&quot;natural father&quot;</a:s>
               </a:s>
               <a:s> } display 'father'</a:s>
            </a:s>
         </annotation>
         <code localId="270" locator="52:18-52:25" name="father"/>
         <code localId="271" locator="52:28-52:43" name="natural father"/>
      </def>
      <def localId="272" locator="53:1-53:62" name="MTH" display="mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="272">
               <a:s>concept &quot;MTH&quot;: { </a:s>
               <a:s r="273">
                  <a:s>&quot;mother&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="274">
                  <a:s>&quot;natural mother&quot;</a:s>
               </a:s>
               <a:s> } display 'mother'</a:s>
            </a:s>
         </annotation>
         <code localId="273" locator="53:18-53:25" name="mother"/>
         <code localId="274" locator="53:28-53:43" name="natural mother"/>
      </def>
      <def localId="275" locator="54:1-54:61" name="CHILD" display="child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="275">
               <a:s>concept &quot;CHILD&quot;: { </a:s>
               <a:s r="276">
                  <a:s>&quot;child&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="277">
                  <a:s>&quot;natural child&quot;</a:s>
               </a:s>
               <a:s> } display 'child'</a:s>
            </a:s>
         </annotation>
         <code localId="276" locator="54:20-54:26" name="child"/>
         <code localId="277" locator="54:29-54:43" name="natural child"/>
      </def>
      <def localId="278" locator="55:1-55:53" name="SON" display="son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="278">
               <a:s>concept &quot;SON&quot;: { </a:s>
               <a:s r="279">
                  <a:s>&quot;son&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="280">
                  <a:s>&quot;natural son&quot;</a:s>
               </a:s>
               <a:s> } display 'son'</a:s>
            </a:s>
         </annotation>
         <code localId="279" locator="55:18-55:22" name="son"/>
         <code localId="280" locator="55:25-55:37" name="natural son"/>
      </def>
      <def localId="281" locator="56:1-56:68" name="DAU" display="daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="281">
               <a:s>concept &quot;DAU&quot;: { </a:s>
               <a:s r="282">
                  <a:s>&quot;daughter&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="283">
                  <a:s>&quot;natural daughter&quot;</a:s>
               </a:s>
               <a:s> } display 'daughter'</a:s>
            </a:s>
         </annotation>
         <code localId="282" locator="56:18-56:27" name="daughter"/>
         <code localId="283" locator="56:30-56:47" name="natural daughter"/>
      </def>
      <def localId="284" locator="57:1-57:90" name="FAP" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="284">
               <a:s>concept &quot;FAP&quot;: {</a:s>
               <a:s r="285">
                  <a:s>&quot;FAP SNOMED CT&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="286">
                  <a:s>&quot;FAP ICD-10-CM&quot;</a:s>
               </a:s>
               <a:s>} display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <code localId="285" locator="57:17-57:31" name="FAP SNOMED CT"/>
         <code localId="286" locator="57:34-57:48" name="FAP ICD-10-CM"/>
      </def>
      <def localId="287" locator="58:1-58:104" name="AFAP" display="Attenuated familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="287">
               <a:s>concept &quot;AFAP&quot;: {</a:s>
               <a:s r="288">
                  <a:s>&quot;AFAP SNOMED CT&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="289">
                  <a:s>&quot;AFAP ICD-10-CM&quot;</a:s>
               </a:s>
               <a:s>} display 'Attenuated familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <code localId="288" locator="58:18-58:33" name="AFAP SNOMED CT"/>
         <code localId="289" locator="58:36-58:51" name="AFAP ICD-10-CM"/>
      </def>
   </concepts>
   <contexts>
      <def localId="383" locator="145:1-145:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="381" locator="145:1-145:15" name="Patient" context="Patient">
         <expression localId="382" xsi:type="SingletonFrom">
            <operand localId="380" locator="145:1-145:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="385" locator="151:1-153:84" name="BirthSex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="385">
               <a:s>//------------------------------------------------------------------------------
// Patient demographics
//------------------------------------------------------------------------------

define BirthSex:
  </a:s>
               <a:s r="397">
                  <a:s>
                     <a:s r="386">
                        <a:s r="388">
                           <a:s>(</a:s>
                           <a:s r="388">
                              <a:s r="387">
                                 <a:s>Patient</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="388">
                                 <a:s>extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="389">
                     <a:s>where </a:s>
                     <a:s r="389">
                        <a:s r="391">
                           <a:s r="390">
                              <a:s>E</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="391">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="392">
                           <a:s>'http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="397" locator="152:3-153:84" xsi:type="Query">
            <source localId="386" locator="152:3-152:23" alias="E">
               <expression localId="388" locator="152:3-152:21" path="extension" xsi:type="Property">
                  <source localId="387" locator="152:4-152:10" name="Patient" xsi:type="ExpressionRef"/>
               </expression>
            </source>
            <where localId="389" locator="153:5-153:84" xsi:type="Equal">
               <signature localId="395" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="396" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="393" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="394" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="391" locator="153:11-153:15" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="392" locator="153:19-153:84" valueType="t:String" value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="399" locator="155:1-156:18" name="BirthSexPresent" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="399">
               <a:s>define BirthSexPresent:
  </a:s>
               <a:s r="403">
                  <a:s>Exists(</a:s>
                  <a:s r="400">
                     <a:s>BirthSex</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="403" locator="156:3-156:18" xsi:type="Exists">
            <operand localId="400" locator="156:10-156:17" name="BirthSex" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="405" locator="158:1-166:3" name="UnknownBirthSex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="405">
               <a:s>define UnknownBirthSex:
  </a:s>
               <a:s r="406">
                  <a:s>exists</a:s>
                  <a:s r="585">
                     <a:s>(
    </a:s>
                     <a:s r="585">
                        <a:s>
                           <a:s r="407">
                              <a:s r="408">
                                 <a:s>(</a:s>
                                 <a:s r="408">
                                    <a:s>BirthSex</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="409">
                           <a:s>where </a:s>
                           <a:s r="409">
                              <a:s>(
        </a:s>
                              <a:s r="409">
                                 <a:s r="410">
                                    <a:s r="411">
                                       <a:s r="413">
                                          <a:s r="412">
                                             <a:s>E</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="413">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="414">
                                          <a:s>'ASKU'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or
        </a:s>
                                    <a:s r="469">
                                       <a:s r="471">
                                          <a:s r="470">
                                             <a:s>E</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="471">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="472">
                                          <a:s>'OTH'</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="527">
                                    <a:s r="529">
                                       <a:s r="528">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="529">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="530">
                                       <a:s>'UNK'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="406" locator="159:3-166:3" xsi:type="Exists">
            <operand localId="585" locator="159:9-166:3" xsi:type="Query">
               <source localId="407" locator="160:5-160:16" alias="E">
                  <expression localId="408" locator="160:5-160:14" name="BirthSex" xsi:type="ExpressionRef"/>
               </source>
               <where localId="409" locator="161:7-165:7" xsi:type="Or">
                  <operand localId="410" locator="162:9-163:23" xsi:type="Or">
                     <operand localId="411" locator="162:9-162:24" xsi:type="Equal">
                        <signature localId="467" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="468" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="418" xsi:type="Case">
                           <caseItem localId="419">
                              <when localId="420" isType="fhir:base64Binary" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="416" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="417" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="415" asType="fhir:base64Binary" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="421">
                              <when localId="422" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="424" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="425" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="423" asType="fhir:uri" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="426">
                              <when localId="427" isType="fhir:string" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="429" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="430" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="428" asType="fhir:string" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="431">
                              <when localId="432" isType="fhir:string" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="434" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="435" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="433" asType="fhir:string" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="436">
                              <when localId="437" isType="fhir:string" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="439" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="440" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="438" asType="fhir:string" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="441">
                              <when localId="442" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="444" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="445" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="443" asType="fhir:uri" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="446">
                              <when localId="447" isType="fhir:string" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="449" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="450" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="448" asType="fhir:string" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="451">
                              <when localId="452" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="454" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="455" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="453" asType="fhir:uri" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="456">
                              <when localId="457" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="459" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="460" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="458" asType="fhir:uri" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="461">
                              <when localId="462" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="464" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="465" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="463" asType="fhir:uri" xsi:type="As">
                                    <operand localId="413" locator="162:9-162:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <else localId="466" xsi:type="Null"/>
                        </operand>
                        <operand localId="414" locator="162:19-162:24" valueType="t:String" value="ASKU" xsi:type="Literal"/>
                     </operand>
                     <operand localId="469" locator="163:9-163:23" xsi:type="Equal">
                        <signature localId="525" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="526" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="476" xsi:type="Case">
                           <caseItem localId="477">
                              <when localId="478" isType="fhir:base64Binary" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="474" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="475" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="473" asType="fhir:base64Binary" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="479">
                              <when localId="480" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="482" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="483" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="481" asType="fhir:uri" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="484">
                              <when localId="485" isType="fhir:string" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="487" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="488" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="486" asType="fhir:string" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="489">
                              <when localId="490" isType="fhir:string" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="492" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="493" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="491" asType="fhir:string" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="494">
                              <when localId="495" isType="fhir:string" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="497" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="498" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="496" asType="fhir:string" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="499">
                              <when localId="500" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="502" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="503" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="501" asType="fhir:uri" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="504">
                              <when localId="505" isType="fhir:string" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="507" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="508" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="506" asType="fhir:string" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="509">
                              <when localId="510" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="512" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="513" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="511" asType="fhir:uri" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="514">
                              <when localId="515" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="517" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="518" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="516" asType="fhir:uri" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="519">
                              <when localId="520" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="522" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="523" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="521" asType="fhir:uri" xsi:type="As">
                                    <operand localId="471" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <else localId="524" xsi:type="Null"/>
                        </operand>
                        <operand localId="472" locator="163:19-163:23" valueType="t:String" value="OTH" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="527" locator="164:9-164:23" xsi:type="Equal">
                     <signature localId="583" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="584" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="534" xsi:type="Case">
                        <caseItem localId="535">
                           <when localId="536" isType="fhir:base64Binary" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="532" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="533" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="531" asType="fhir:base64Binary" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="537">
                           <when localId="538" isType="fhir:uri" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="540" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="541" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="539" asType="fhir:uri" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="542">
                           <when localId="543" isType="fhir:string" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="545" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="546" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="544" asType="fhir:string" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="547">
                           <when localId="548" isType="fhir:string" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="550" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="551" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="549" asType="fhir:string" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="552">
                           <when localId="553" isType="fhir:string" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="555" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="556" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="554" asType="fhir:string" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="557">
                           <when localId="558" isType="fhir:uri" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="560" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="561" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="559" asType="fhir:uri" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="562">
                           <when localId="563" isType="fhir:string" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="565" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="566" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="564" asType="fhir:string" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="567">
                           <when localId="568" isType="fhir:uri" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="570" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="571" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="569" asType="fhir:uri" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="572">
                           <when localId="573" isType="fhir:uri" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="575" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="576" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="574" asType="fhir:uri" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="577">
                           <when localId="578" isType="fhir:uri" xsi:type="Is">
                              <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="580" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="581" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="579" asType="fhir:uri" xsi:type="As">
                                 <operand localId="529" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <else localId="582" xsi:type="Null"/>
                     </operand>
                     <operand localId="530" locator="164:19-164:23" valueType="t:String" value="UNK" xsi:type="Literal"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="587" locator="168:1-170:17" name="BirthSexMissingOrUnknown" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="587">
               <a:s>define BirthSexMissingOrUnknown:
  </a:s>
               <a:s r="588">
                  <a:s r="589">
                     <a:s>not </a:s>
                     <a:s r="590">
                        <a:s>BirthSexPresent</a:s>
                     </a:s>
                  </a:s>
                  <a:s> or
  </a:s>
                  <a:s r="591">
                     <a:s>UnknownBirthSex</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="588" locator="169:3-170:17" xsi:type="Or">
            <operand localId="589" locator="169:3-169:21" xsi:type="Not">
               <operand localId="590" locator="169:7-169:21" name="BirthSexPresent" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="591" locator="170:3-170:17" name="UnknownBirthSex" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="593" locator="172:1-174:37" name="BirthSexCode" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="593">
               <a:s>define BirthSexCode:
  </a:s>
               <a:s r="594">
                  <a:s>if </a:s>
                  <a:s r="595">
                     <a:s>BirthSexMissingOrUnknown</a:s>
                  </a:s>
                  <a:s> then </a:s>
                  <a:s r="596">
                     <a:s>'Unknown'</a:s>
                  </a:s>
                  <a:s>
  else </a:s>
                  <a:s r="618">
                     <a:s>Coalesce(</a:s>
                     <a:s r="614">
                        <a:s r="605">
                           <a:s r="597">
                              <a:s>BirthSex</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="605">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="614">
                           <a:s>value</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="594" locator="173:3-174:37" xsi:type="If">
            <condition localId="595" locator="173:6-173:29" name="BirthSexMissingOrUnknown" xsi:type="ExpressionRef"/>
            <then localId="596" locator="173:36-173:44" valueType="t:String" value="Unknown" xsi:type="Literal"/>
            <else localId="619" asType="t:String" xsi:type="As">
               <operand localId="618" locator="174:8-174:37" xsi:type="Coalesce">
                  <operand localId="614" locator="174:17-174:36" xsi:type="Query">
                     <source localId="613" alias="$this">
                        <expression localId="605" locator="174:17-174:30" xsi:type="Query">
                           <source localId="604" alias="$this">
                              <expression localId="597" locator="174:17-174:24" name="BirthSex" xsi:type="ExpressionRef"/>
                           </source>
                           <where localId="601" xsi:type="Not">
                              <operand localId="600" xsi:type="IsNull">
                                 <operand localId="599" path="value" xsi:type="Property">
                                    <source localId="598" name="$this" xsi:type="AliasRef"/>
                                 </operand>
                              </operand>
                           </where>
                           <return localId="606" distinct="false">
                              <expression localId="603" path="value" xsi:type="Property">
                                 <source localId="602" name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </expression>
                     </source>
                     <where localId="610" xsi:type="Not">
                        <operand localId="609" xsi:type="IsNull">
                           <operand localId="608" path="value" xsi:type="Property">
                              <source localId="607" name="$this" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                     </where>
                     <return localId="615" distinct="false">
                        <expression localId="612" path="value" xsi:type="Property">
                           <source localId="611" name="$this" xsi:type="AliasRef"/>
                        </expression>
                     </return>
                  </operand>
               </operand>
            </else>
         </expression>
      </def>
      <def localId="621" locator="176:1-180:86" name="GenderIdentityExtension" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="621">
               <a:s>define GenderIdentityExtension:
  </a:s>
               <a:s r="642">
                  <a:s>
                     <a:s r="622">
                        <a:s r="624">
                           <a:s>(</a:s>
                           <a:s r="624">
                              <a:s r="623">
                                 <a:s>Patient</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="624">
                                 <a:s>extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="625">
                     <a:s>where
      </a:s>
                     <a:s r="625">
                        <a:s r="626">
                           <a:s r="628">
                              <a:s r="627">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="628">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="629">
                              <a:s>'http://hl7.org/fhir/StructureDefinition/patient-genderIdentity'</a:s>
                           </a:s>
                        </a:s>
                        <a:s> or
      </a:s>
                        <a:s r="634">
                           <a:s r="636">
                              <a:s r="635">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="636">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="637">
                              <a:s>'http://hl7.org/fhir/us/core/StructureDefinition/us-core-genderIdentity'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="642" locator="177:3-180:86" xsi:type="Query">
            <source localId="622" locator="177:3-177:23" alias="E">
               <expression localId="624" locator="177:3-177:21" path="extension" xsi:type="Property">
                  <source localId="623" locator="177:4-177:10" name="Patient" xsi:type="ExpressionRef"/>
               </expression>
            </source>
            <where localId="625" locator="178:5-180:86" xsi:type="Or">
               <operand localId="626" locator="179:7-179:78" xsi:type="Equal">
                  <signature localId="632" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="633" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="630" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="631" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="628" locator="179:7-179:11" path="url" scope="E" xsi:type="Property"/>
                  </operand>
                  <operand localId="629" locator="179:15-179:78" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity" xsi:type="Literal"/>
               </operand>
               <operand localId="634" locator="180:7-180:86" xsi:type="Equal">
                  <signature localId="640" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="641" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="638" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="639" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="636" locator="180:7-180:11" path="url" scope="E" xsi:type="Property"/>
                  </operand>
                  <operand localId="637" locator="180:15-180:86" valueType="t:String" value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-genderIdentity" xsi:type="Literal"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="652" locator="214:1-219:5" name="PregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="652">
               <a:s>define PregnancyEpisodesOfCare:
  </a:s>
               <a:s r="672">
                  <a:s>
                     <a:s r="653">
                        <a:s r="654">
                           <a:s r="654">
                              <a:s>[EpisodeOfCare]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s> </a:s>
                  <a:s r="671">
                     <a:s>where
    </a:s>
                     <a:s r="671">
                        <a:s>AnyTrue(
      </a:s>
                        <a:s r="668">
                           <a:s>
                              <a:s r="655">
                                 <a:s r="657">
                                    <a:s>(</a:s>
                                    <a:s r="657">
                                       <a:s r="656">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="657">
                                          <a:s>type</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> t</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="658">
                              <a:s>return </a:s>
                              <a:s r="659">
                                 <a:s r="660">
                                    <a:s>t</a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="661">
                                    <a:s>&quot;Pregnancy Episode Of Care&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="672" locator="215:3-219:5" xsi:type="Query">
            <source localId="653" locator="215:3-215:19" alias="E">
               <expression localId="654" locator="215:3-215:17" dataType="fhir:EpisodeOfCare" templateId="http://hl7.org/fhir/StructureDefinition/EpisodeOfCare" xsi:type="Retrieve"/>
            </source>
            <where localId="671" locator="215:21-219:5" xsi:type="AnyTrue">
               <source localId="668" locator="217:7-218:46" xsi:type="Query">
                  <source localId="655" locator="217:7-217:16" alias="t">
                     <expression localId="657" locator="217:7-217:14" path="type" scope="E" xsi:type="Property"/>
                  </source>
                  <return localId="658" locator="218:9-218:46">
                     <expression localId="659" locator="218:16-218:46" xsi:type="Equivalent">
                        <signature localId="666" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="667" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="662" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="660" locator="218:16" name="t" xsi:type="AliasRef"/>
                        </operand>
                        <operand localId="664" xsi:type="ToConcept">
                           <signature localId="665" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="661" locator="218:20-218:46" name="Pregnancy Episode Of Care" xsi:type="CodeRef"/>
                        </operand>
                     </expression>
                  </return>
               </source>
            </where>
         </expression>
      </def>
      <def localId="649" locator="221:1-223:27" name="ActivePregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="649">
               <a:s>define ActivePregnancyEpisodesOfCare:
  </a:s>
               <a:s r="682">
                  <a:s>
                     <a:s r="650">
                        <a:s r="673">
                           <a:s>
                              <a:s>PregnancyEpisodesOfCare</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="674">
                     <a:s>where </a:s>
                     <a:s r="674">
                        <a:s r="676">
                           <a:s r="675">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="676">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s r="677">
                           <a:s>'active'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="682" locator="222:3-223:27" xsi:type="Query">
            <source localId="650" locator="222:3-222:27" alias="P">
               <expression localId="673" locator="222:3-222:25" name="PregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            </source>
            <where localId="674" locator="223:3-223:27" xsi:type="Equivalent">
               <signature localId="680" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="681" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="678" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="679" name="fhir:EpisodeOfCareStatus" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="676" locator="223:9-223:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="677" locator="223:20-223:27" valueType="t:String" value="active" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="647" locator="229:1-230:39" name="HasActivePregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="647">
               <a:s>define HasActivePregnancyEpisodesOfCare:
  </a:s>
               <a:s r="688">
                  <a:s>Exists(</a:s>
                  <a:s r="683">
                     <a:s>ActivePregnancyEpisodesOfCare</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="688" locator="230:3-230:39" xsi:type="Exists">
            <signature localId="689" xsi:type="ListTypeSpecifier">
               <elementType localId="690" name="fhir:EpisodeOfCare" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="683" locator="230:10-230:38" name="ActivePregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="697" locator="225:1-227:29" name="FinishedPregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="697">
               <a:s>define FinishedPregnancyEpisodesOfCare:
  </a:s>
               <a:s r="708">
                  <a:s>
                     <a:s r="698">
                        <a:s r="699">
                           <a:s>
                              <a:s>PregnancyEpisodesOfCare</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="700">
                     <a:s>where </a:s>
                     <a:s r="700">
                        <a:s r="702">
                           <a:s r="701">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="702">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s r="703">
                           <a:s>'finished'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="708" locator="226:3-227:29" xsi:type="Query">
            <source localId="698" locator="226:3-226:27" alias="P">
               <expression localId="699" locator="226:3-226:25" name="PregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            </source>
            <where localId="700" locator="227:3-227:29" xsi:type="Equivalent">
               <signature localId="706" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="707" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="704" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="705" name="fhir:EpisodeOfCareStatus" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="702" locator="227:9-227:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="703" locator="227:20-227:29" valueType="t:String" value="finished" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="695" locator="232:1-233:41" name="HasFinishedPregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="695">
               <a:s>define HasFinishedPregnancyEpisodesOfCare:
  </a:s>
               <a:s r="714">
                  <a:s>Exists(</a:s>
                  <a:s r="709">
                     <a:s>FinishedPregnancyEpisodesOfCare</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="714" locator="233:3-233:41" xsi:type="Exists">
            <signature localId="715" xsi:type="ListTypeSpecifier">
               <elementType localId="716" name="fhir:EpisodeOfCare" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="709" locator="233:10-233:40" name="FinishedPregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="721" locator="195:1-203:3" name="PregnancyDiagnoses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="721">
               <a:s>define PregnancyDiagnoses:
  </a:s>
               <a:s r="741">
                  <a:s r="722">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="741">
                     <a:s>Confirmed(
    </a:s>
                     <a:s r="740">
                        <a:s r="723">
                           <a:s>C3F</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="740">
                           <a:s>ActiveCondition(
      </a:s>
                           <a:s r="739">
                              <a:s r="724">
                                 <a:s>C3F</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="739">
                                 <a:s>ConditionLookBack(
        </a:s>
                                 <a:s r="737">
                                    <a:s r="727">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>&quot;Pregnancy&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                    <a:s> union </a:s>
                                    <a:s r="733">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>&quot;Pregnancy (New ICD10 codes published in 2018 and 2020)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
        </a:s>
                                 <a:s r="738">
                                    <a:s>42 weeks</a:s>
                                 </a:s>
                                 <a:s>
      )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="741" locator="196:3-203:3" name="Confirmed" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="740" locator="197:5-202:5" name="ActiveCondition" libraryName="C3F" xsi:type="FunctionRef">
               <operand localId="739" locator="198:7-201:7" name="ConditionLookBack" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="737" locator="199:9-199:108" xsi:type="Union">
                     <operand localId="727" locator="199:9-199:32" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes localId="726" locator="199:21-199:31" name="Pregnancy" preserve="true" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="733" locator="199:40-199:108" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes localId="732" locator="199:52-199:107" name="Pregnancy (New ICD10 codes published in 2018 and 2020)" preserve="true" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
                  <operand localId="738" locator="200:9-200:16" value="42" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="751" locator="205:1-212:3" name="PregnancyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="751">
               <a:s>define PregnancyObservations:
  </a:s>
               <a:s r="780">
                  <a:s r="752">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="780">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="778">
                        <a:s r="753">
                           <a:s>C3F</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="778">
                           <a:s>Verified(
      </a:s>
                           <a:s r="777">
                              <a:s>
                                 <a:s r="754">
                                    <a:s r="757">
                                       <a:s r="757">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>&quot;Pregnancy Status&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="766">
                                 <a:s>where </a:s>
                                 <a:s r="766">
                                    <a:s r="768">
                                       <a:s r="767">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="768">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="769">
                                       <a:s>&quot;Patient currently pregnant&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="779">
                        <a:s>42 weeks</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="780" locator="206:3-212:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="778" locator="207:5-210:5" name="Verified" libraryName="C3F" xsi:type="FunctionRef">
               <operand localId="777" locator="208:7-209:52" xsi:type="Query">
                  <source localId="754" locator="208:7-208:41" alias="P">
                     <expression localId="757" locator="208:7-208:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                        <codes localId="765" xsi:type="ToList">
                           <operand localId="756" locator="208:21-208:38" name="Pregnancy Status" xsi:type="CodeRef"/>
                        </codes>
                     </expression>
                  </source>
                  <where localId="766" locator="209:9-209:52" xsi:type="Equivalent">
                     <signature localId="775" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="776" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="771" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="770" asType="fhir:CodeableConcept" xsi:type="As">
                           <operand localId="768" locator="209:15-209:21" path="value" scope="P" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="773" xsi:type="ToConcept">
                        <signature localId="774" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="769" locator="209:25-209:52" name="Patient currently pregnant" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </operand>
            </operand>
            <operand localId="779" locator="211:5-211:12" value="42" unit="weeks" xsi:type="Quantity"/>
         </expression>
      </def>
      <def localId="644" locator="182:1-193:63" name="Pregnant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="644">
               <a:s>define Pregnant:
  // IF any Epsidose of care with status = active
  //    Pregnant = true
  // If any Episode of care with status = finished
  //    Pregnant = false
  // Use existing logic with conditions and observations
  </a:s>
               <a:s r="645">
                  <a:s>if </a:s>
                  <a:s r="691">
                     <a:s>(</a:s>
                     <a:s r="691">
                        <a:s>HasActivePregnancyEpisodesOfCare</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="692"> then
    true
  else </a:s>
                  <a:s r="693">
                     <a:s>if </a:s>
                     <a:s r="717">
                        <a:s>(</a:s>
                        <a:s r="717">
                           <a:s>HasFinishedPregnancyEpisodesOfCare</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s r="718"> then
    false
  else
    </a:s>
                     <a:s r="719">
                        <a:s r="747">
                           <a:s>Exists(</a:s>
                           <a:s r="742">
                              <a:s>PregnancyDiagnoses</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> or </a:s>
                        <a:s r="786">
                           <a:s>Exists(</a:s>
                           <a:s r="781">
                              <a:s>PregnancyObservations</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="645" locator="188:3-193:63" xsi:type="If">
            <condition localId="691" locator="188:6-188:39" name="HasActivePregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            <then localId="692" locator="189:5-189:8" valueType="t:Boolean" value="true" xsi:type="Literal"/>
            <else localId="693" locator="190:8-193:63" xsi:type="If">
               <condition localId="717" locator="190:11-190:46" name="HasFinishedPregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
               <then localId="718" locator="191:5-191:9" valueType="t:Boolean" value="false" xsi:type="Literal"/>
               <else localId="719" locator="193:5-193:63" xsi:type="Or">
                  <operand localId="747" locator="193:5-193:30" xsi:type="Exists">
                     <signature localId="748" xsi:type="ListTypeSpecifier">
                        <elementType localId="749" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="742" locator="193:12-193:29" name="PregnancyDiagnoses" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="786" locator="193:35-193:63" xsi:type="Exists">
                     <signature localId="787" xsi:type="ListTypeSpecifier">
                        <elementType localId="788" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="781" locator="193:42-193:62" name="PregnancyObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </else>
            </else>
         </expression>
      </def>
      <def localId="794" locator="248:1-249:57" name="ColorectalCancerDiagnoses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="794">
               <a:s>define ColorectalCancerDiagnoses:
  </a:s>
               <a:s r="802">
                  <a:s r="795">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="802">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="798">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="802" locator="249:3-249:57" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="798" locator="249:25-249:56" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="797" locator="249:37-249:55" name="COLORECTAL CANCER" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="790" locator="242:1-246:50" name="de-CurrentCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="790">
               <a:s>//------------------------------------------------------------------------------
// Current colorectal cancer
//------------------------------------------------------------------------------

// Conditions relevant to colorectal cancer
//    No lookback restriction

define &quot;de-CurrentCRC&quot;:
  </a:s>
               <a:s r="791">
                  <a:s>exists </a:s>
                  <a:s r="830">
                     <a:s>
                        <a:s r="792">
                           <a:s r="803">
                              <a:s>
                                 <a:s>ColorectalCancerDiagnoses</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="804">
                        <a:s>where </a:s>
                        <a:s r="804">
                           <a:s r="805">
                              <a:s r="813">
                                 <a:s r="808">
                                    <a:s r="807">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="808">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> !~ </a:s>
                                 <a:s r="809">
                                    <a:s>&quot;Condition inactive&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      and </a:s>
                              <a:s r="821">
                                 <a:s r="816">
                                    <a:s r="815">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="816">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> !~ </a:s>
                                 <a:s r="817">
                                    <a:s>&quot;Condition remission&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="829">
                              <a:s r="824">
                                 <a:s r="823">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="824">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> !~ </a:s>
                              <a:s r="825">
                                 <a:s>&quot;Condition resolved&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="791" locator="243:3-246:50" xsi:type="Exists">
            <signature localId="831" xsi:type="ListTypeSpecifier">
               <elementType localId="832" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="830" locator="243:10-246:50" xsi:type="Query">
               <source localId="792" locator="243:10-243:36" alias="C">
                  <expression localId="803" locator="243:10-243:34" name="ColorectalCancerDiagnoses" xsi:type="ExpressionRef"/>
               </source>
               <where localId="804" locator="244:5-246:50" xsi:type="And">
                  <operand localId="805" locator="244:11-245:51" xsi:type="And">
                     <operand localId="813" locator="244:11-244:50" xsi:type="Not">
                        <operand localId="806" locator="244:11-244:50" xsi:type="Equivalent">
                           <signature localId="811" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="812" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="810" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="808" locator="244:11-244:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="809" locator="244:31-244:50" name="Condition inactive" xsi:type="ConceptRef"/>
                        </operand>
                     </operand>
                     <operand localId="821" locator="245:11-245:51" xsi:type="Not">
                        <operand localId="814" locator="245:11-245:51" xsi:type="Equivalent">
                           <signature localId="819" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="820" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="818" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="816" locator="245:11-245:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="817" locator="245:31-245:51" name="Condition remission" xsi:type="ConceptRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="829" locator="246:11-246:50" xsi:type="Not">
                     <operand localId="822" locator="246:11-246:50" xsi:type="Equivalent">
                        <signature localId="827" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="828" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="826" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="824" locator="246:11-246:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="825" locator="246:31-246:50" name="Condition resolved" xsi:type="ConceptRef"/>
                     </operand>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="837" locator="258:1-259:57" name="TotalColectomyProcedures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="837">
               <a:s>define TotalColectomyProcedures:
  </a:s>
               <a:s r="845">
                  <a:s r="838">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="845">
                     <a:s>Completed(</a:s>
                     <a:s r="841">
                        <a:s>[Procedure: </a:s>
                        <a:s>
                           <a:s>&quot;TOTAL COLECTOMY PROCEDURE&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="845" locator="259:3-259:57" name="Completed" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="841" locator="259:17-259:56" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="840" locator="259:29-259:55" name="TOTAL COLECTOMY PROCEDURE" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="834" locator="255:1-256:33" name="de-TotalColectomy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="834">
               <a:s>//------------------------------------------------------------------------------
// History of total colectomy procedure
//------------------------------------------------------------------------------

define &quot;de-TotalColectomy&quot;:
  </a:s>
               <a:s r="835">
                  <a:s>exists </a:s>
                  <a:s r="846">
                     <a:s>TotalColectomyProcedures</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="835" locator="256:3-256:33" xsi:type="Exists">
            <signature localId="847" xsi:type="ListTypeSpecifier">
               <elementType localId="848" name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="846" locator="256:10-256:33" name="TotalColectomyProcedures" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="861" locator="306:1-310:3" name="NewOrWorseningColorectalSymptomsObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="861">
               <a:s>define NewOrWorseningColorectalSymptomsObservations:
  </a:s>
               <a:s r="875">
                  <a:s r="862">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="875">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="865">
                        <a:s>[Observation: </a:s>
                        <a:s>
                           <a:s>&quot;New or worsening colorectal symptoms&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="874">
                        <a:s>ObservationLookbackPeriod</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="875" locator="307:3-310:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="865" locator="308:5-308:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="873" xsi:type="ToList">
                  <operand localId="864" locator="308:19-308:56" name="New or worsening colorectal symptoms" xsi:type="CodeRef"/>
               </codes>
            </operand>
            <operand localId="874" locator="309:5-309:29" name="ObservationLookbackPeriod" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="858" locator="297:1-298:88" name="NewOrWorseningColorectalSymptomsEncounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="858">
               <a:s>define NewOrWorseningColorectalSymptomsEncounter:
  </a:s>
               <a:s r="886">
                  <a:s>
                     <a:s r="859">
                        <a:s r="876">
                           <a:s>
                              <a:s>NewOrWorseningColorectalSymptomsObservations</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s> </a:s>
                  <a:s r="877">
                     <a:s>where </a:s>
                     <a:s r="877">
                        <a:s r="880">
                           <a:s r="879">
                              <a:s r="878">
                                 <a:s>O</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="879">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="880">
                              <a:s>reference</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="881">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="886" locator="298:3-298:88" xsi:type="Query">
            <source localId="859" locator="298:3-298:48" alias="O">
               <expression localId="876" locator="298:3-298:46" name="NewOrWorseningColorectalSymptomsObservations" xsi:type="ExpressionRef"/>
            </source>
            <where localId="877" locator="298:50-298:88" xsi:type="Equal">
               <signature localId="884" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="885" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="882" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="883" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="880" locator="298:56-298:76" path="reference" xsi:type="Property">
                     <source localId="879" locator="298:56-298:66" path="encounter" scope="O" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="881" locator="298:80-298:88" name="encounter" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="889" locator="300:1-304:3" name="NewOrWorseningColorectalSymptomsLookback" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="889">
               <a:s>define NewOrWorseningColorectalSymptomsLookback:
  </a:s>
               <a:s r="893">
                  <a:s r="890">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="893">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="891">
                        <a:s>NewOrWorseningColorectalSymptomsObservations</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="892">
                        <a:s>SymptomaticLookBack</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="893" locator="301:3-304:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="891" locator="302:5-302:48" name="NewOrWorseningColorectalSymptomsObservations" xsi:type="ExpressionRef"/>
            <operand localId="892" locator="303:5-303:23" name="SymptomaticLookBack" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="854" locator="289:1-295:3" name="MostRecentNewOrWorseningColorectalSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="854">
               <a:s>// union Common.ValidCondition([Condition: &quot;Iron Decifiency Anemia without Specified Cause&quot;]) 

define MostRecentNewOrWorseningColorectalSymptoms:
  </a:s>
               <a:s r="906">
                  <a:s r="855">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="906">
                     <a:s>MostRecent(
    </a:s>
                     <a:s r="900">
                        <a:s r="897">
                           <a:s>Flatten(</a:s>
                           <a:s r="856">
                              <a:s>{
      </a:s>
                              <a:s r="887">
                                 <a:s>NewOrWorseningColorectalSymptomsEncounter</a:s>
                              </a:s>
                              <a:s>,
      </a:s>
                              <a:s r="894">
                                 <a:s>NewOrWorseningColorectalSymptomsLookback</a:s>
                              </a:s>
                              <a:s>
    }</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> except </a:s>
                        <a:s r="898">
                           <a:s r="899">{null}</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="906" locator="290:3-295:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="900" locator="291:5-294:20" xsi:type="Except">
               <operand localId="897" locator="291:5-294:6" xsi:type="Flatten">
                  <operand localId="856" locator="291:13-294:5" xsi:type="List">
                     <element localId="887" locator="292:7-292:47" name="NewOrWorseningColorectalSymptomsEncounter" xsi:type="ExpressionRef"/>
                     <element localId="894" locator="293:7-293:46" name="NewOrWorseningColorectalSymptomsLookback" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="901" xsi:type="Query">
                  <source localId="902" alias="X">
                     <expression localId="898" locator="294:15-294:20" xsi:type="List">
                        <element localId="899" locator="294:16-294:19" xsi:type="Null"/>
                     </expression>
                  </source>
                  <return localId="903" distinct="false">
                     <expression localId="905" asType="fhir:Observation" xsi:type="As">
                        <operand localId="904" name="X" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="917" locator="286:1-287:148" name="ColorectalSymptomConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="917">
               <a:s>define ColorectalSymptomConditions:
  </a:s>
               <a:s r="934">
                  <a:s r="925">
                     <a:s r="918">
                        <a:s>Common</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="925">
                        <a:s>ValidCondition(</a:s>
                        <a:s r="921">
                           <a:s>[Condition: </a:s>
                           <a:s>
                              <a:s>&quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s> union </a:s>
                  <a:s r="933">
                     <a:s r="926">
                        <a:s>Common</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="933">
                        <a:s>ValidCondition(</a:s>
                        <a:s r="929">
                           <a:s>[Condition: </a:s>
                           <a:s>
                              <a:s>&quot;Blood in Stool&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="934" locator="287:3-287:148" xsi:type="Union">
            <operand localId="925" locator="287:3-287:89" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
               <operand localId="921" locator="287:25-287:88" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes localId="920" locator="287:37-287:87" name="Non Bleeding Colorectal Cancer Signs and Symptoms" preserve="true" xsi:type="ValueSetRef"/>
               </operand>
            </operand>
            <operand localId="933" locator="287:97-287:148" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
               <operand localId="929" locator="287:119-287:147" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes localId="928" locator="287:131-287:146" name="Blood in Stool" preserve="true" xsi:type="ValueSetRef"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="914" locator="282:1-284:43" name="EncounterColorectalSymptomConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="914">
               <a:s>define EncounterColorectalSymptomConditions:
  </a:s>
               <a:s r="945">
                  <a:s>
                     <a:s r="915">
                        <a:s r="935">
                           <a:s>
                              <a:s>ColorectalSymptomConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s> C</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="936">
                     <a:s>where </a:s>
                     <a:s r="936">
                        <a:s r="939">
                           <a:s r="938">
                              <a:s r="937">
                                 <a:s>C</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="938">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="939">
                              <a:s>reference</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="940">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="945" locator="283:3-284:43" xsi:type="Query">
            <source localId="915" locator="283:3-283:31" alias="C">
               <expression localId="935" locator="283:3-283:29" name="ColorectalSymptomConditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="936" locator="284:5-284:43" xsi:type="Equal">
               <signature localId="943" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="944" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="941" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="942" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="939" locator="284:11-284:31" path="reference" xsi:type="Property">
                     <source localId="938" locator="284:11-284:21" path="encounter" scope="C" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="940" locator="284:35-284:43" name="encounter" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="958" locator="275:1-280:3" name="AllColorectalSymptomEncounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="958">
               <a:s>define AllColorectalSymptomEncounters:
  </a:s>
               <a:s r="986">
                  <a:s r="959">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="986">
                     <a:s>RelevantEncounterStatus(
    </a:s>
                     <a:s r="985">
                        <a:s>
                           <a:s r="960">
                              <a:s r="961">
                                 <a:s r="961">
                                    <a:s>[Encounter]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="962">
                           <a:s>where
        </a:s>
                           <a:s r="962">
                              <a:s>(</a:s>
                              <a:s r="962">
                                 <a:s r="966">
                                    <a:s r="964">
                                       <a:s r="963">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="964">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="965">
                                       <a:s>&quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or </a:s>
                                 <a:s r="977">
                                    <a:s r="975">
                                       <a:s r="974">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="975">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="976">
                                       <a:s>&quot;Blood in Stool&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> // or E.reasonCode in &quot;Iron Decifiency Anemia without Specified Cause&quot;)     
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="986" locator="276:3-280:3" name="RelevantEncounterStatus" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="985" locator="277:5-279:113" xsi:type="Query">
               <source localId="960" locator="277:5-277:17" alias="E">
                  <expression localId="961" locator="277:5-277:15" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
               </source>
               <where localId="962" locator="278:7-279:113" xsi:type="Or">
                  <operand localId="966" locator="279:10-279:76" xsi:type="AnyInValueSet">
                     <signature localId="972" xsi:type="ListTypeSpecifier">
                        <elementType localId="973" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <codes localId="967" xsi:type="Query">
                        <source localId="968" alias="X">
                           <expression localId="964" locator="279:10-279:21" path="reasonCode" scope="E" xsi:type="Property"/>
                        </source>
                        <return localId="969" distinct="false">
                           <expression localId="971" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="970" name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="965" locator="279:26-279:76" name="Non Bleeding Colorectal Cancer Signs and Symptoms" preserve="true"/>
                  </operand>
                  <operand localId="977" locator="279:81-279:112" xsi:type="AnyInValueSet">
                     <signature localId="983" xsi:type="ListTypeSpecifier">
                        <elementType localId="984" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <codes localId="978" xsi:type="Query">
                        <source localId="979" alias="X">
                           <expression localId="975" locator="279:81-279:92" path="reasonCode" scope="E" xsi:type="Property"/>
                        </source>
                        <return localId="980" distinct="false">
                           <expression localId="982" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="981" name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="976" locator="279:97-279:112" name="Blood in Stool" preserve="true"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="950" locator="271:1-273:81" name="EncounterReasonColorectalSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="950">
               <a:s>define EncounterReasonColorectalSymptoms:
  </a:s>
               <a:s r="951">
                  <a:s r="954">
                     <a:s r="952">
                        <a:s>encounter</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s> and 
    </a:s>
                  <a:s r="955">
                     <a:s>exists </a:s>
                     <a:s r="1001">
                        <a:s>
                           <a:s r="956">
                              <a:s r="987">
                                 <a:s>
                                    <a:s>AllColorectalSymptomEncounters</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="988">
                           <a:s>where </a:s>
                           <a:s r="988">
                              <a:s r="989">
                                 <a:s>encounter</a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="998">
                                 <a:s r="991">
                                    <a:s>'Encounter/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="993">
                                    <a:s r="992">
                                       <a:s>E</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="993">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="951" locator="272:3-273:81" xsi:type="And">
            <operand localId="954" locator="272:3-272:23" xsi:type="Not">
               <operand localId="953" locator="272:3-272:23" xsi:type="IsNull">
                  <operand localId="952" locator="272:3-272:11" name="encounter" xsi:type="ParameterRef"/>
               </operand>
            </operand>
            <operand localId="955" locator="273:5-273:81" xsi:type="Exists">
               <signature localId="1002" xsi:type="ListTypeSpecifier">
                  <elementType localId="1003" name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1001" locator="273:12-273:81" xsi:type="Query">
                  <source localId="956" locator="273:12-273:43" alias="E">
                     <expression localId="987" locator="273:12-273:41" name="AllColorectalSymptomEncounters" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="988" locator="273:45-273:81" xsi:type="Equal">
                     <signature localId="999" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1000" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="989" locator="273:51-273:59" name="encounter" xsi:type="ParameterRef"/>
                     <operand localId="998" locator="273:63-273:81" xsi:type="Concatenate">
                        <operand localId="991" locator="273:63-273:74" valueType="t:String" value="Encounter/" xsi:type="Literal"/>
                        <operand localId="994" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <signature localId="995" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="993" locator="273:78-273:81" path="id" scope="E" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="850" locator="266:1-269:40" name="de-ColorectalSignsSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="850">
               <a:s>//------------------------------------------------------------------------------
// Colorectal symptoms
//------------------------------------------------------------------------------

// TODO: move this to events
define &quot;de-ColorectalSignsSymptoms&quot;:
  </a:s>
               <a:s r="851">
                  <a:s r="852">
                     <a:s r="909">
                        <a:s r="908">
                           <a:s r="907">
                              <a:s>MostRecentNewOrWorseningColorectalSymptoms</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="908">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> is true</a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="912">
                        <a:s>exists </a:s>
                        <a:s r="946">
                           <a:s>EncounterColorectalSymptomConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="1004">
                     <a:s>EncounterReasonColorectalSymptoms</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="851" locator="267:3-269:40" xsi:type="Or">
            <operand localId="852" locator="267:3-268:50" xsi:type="Or">
               <operand localId="909" locator="267:3-267:58" xsi:type="IsTrue">
                  <operand localId="911" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="910" asType="fhir:boolean" xsi:type="As">
                        <operand localId="908" locator="267:3-267:50" path="value" xsi:type="Property">
                           <source localId="907" locator="267:3-267:44" name="MostRecentNewOrWorseningColorectalSymptoms" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
               <operand localId="912" locator="268:8-268:50" xsi:type="Exists">
                  <signature localId="947" xsi:type="ListTypeSpecifier">
                     <elementType localId="948" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="946" locator="268:15-268:50" name="EncounterColorectalSymptomConditions" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1004" locator="269:8-269:40" name="EncounterReasonColorectalSymptoms" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1013" locator="328:1-332:3" name="ReducedLifeExpectancyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1013">
               <a:s>define ReducedLifeExpectancyObservations:
  </a:s>
               <a:s r="1027">
                  <a:s r="1014">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1027">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="1017">
                        <a:s>[Observation: </a:s>
                        <a:s>
                           <a:s>&quot;Reduced life expectancy indicator&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="1026">
                        <a:s>ObservationLookbackPeriod</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1027" locator="329:3-332:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="1017" locator="330:5-330:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1025" xsi:type="ToList">
                  <operand localId="1016" locator="330:19-330:53" name="Reduced life expectancy indicator" xsi:type="CodeRef"/>
               </codes>
            </operand>
            <operand localId="1026" locator="331:5-331:29" name="ObservationLookbackPeriod" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1008" locator="319:1-326:15" name="ReducedLifeExpectancy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1008">
               <a:s>define ReducedLifeExpectancy:
  </a:s>
               <a:s r="1039">
                  <a:s r="1037">
                     <a:s r="1009">
                        <a:s>C3F</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1037">
                        <a:s>MostRecent(
    </a:s>
                        <a:s r="1036">
                           <a:s r="1010">
                              <a:s>C3F</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1036">
                              <a:s>ObservationLookBack(
      </a:s>
                              <a:s r="1034">
                                 <a:s>
                                    <a:s r="1011">
                                       <a:s r="1028">
                                          <a:s>
                                             <a:s>ReducedLifeExpectancyObservations</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> R</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
        </a:s>
                                 <a:s r="1031">
                                    <a:s>where </a:s>
                                    <a:s r="1031">
                                       <a:s r="1030">
                                          <a:s r="1029">
                                             <a:s>R</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1030">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
      </a:s>
                              <a:s r="1035">
                                 <a:s>SymptomaticLookBack</a:s>
                              </a:s>
                              <a:s>
    )</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s> is not null</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1039" locator="320:3-326:15" xsi:type="Not">
            <operand localId="1038" locator="320:3-326:15" xsi:type="IsNull">
               <operand localId="1037" locator="320:3-326:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="1036" locator="321:5-325:5" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
                     <operand localId="1034" locator="322:7-323:29" xsi:type="Query">
                        <source localId="1011" locator="322:7-322:41" alias="R">
                           <expression localId="1028" locator="322:7-322:39" name="ReducedLifeExpectancyObservations" xsi:type="ExpressionRef"/>
                        </source>
                        <where localId="1031" locator="323:9-323:29" xsi:type="IsTrue">
                           <operand localId="1033" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1032" asType="fhir:boolean" xsi:type="As">
                                 <operand localId="1030" locator="323:15-323:21" path="value" scope="R" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </where>
                     </operand>
                     <operand localId="1035" locator="324:7-324:25" name="SymptomaticLookBack" xsi:type="ParameterRef"/>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="1006" locator="316:1-317:23" name="de-lifeexp" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1006">
               <a:s>//------------------------------------------------------------------------------
// Life expectancy
//------------------------------------------------------------------------------

define &quot;de-lifeexp&quot;:
  </a:s>
               <a:s r="1040">
                  <a:s>ReducedLifeExpectancy</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1040" locator="317:3-317:23" name="ReducedLifeExpectancy" xsi:type="ExpressionRef"/>
      </def>
      <def localId="1052" locator="358:1-359:61" name="LynchSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1052">
               <a:s>define LynchSyndromeConditions:
  </a:s>
               <a:s r="1065">
                  <a:s r="1053">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1065">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1056">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;LYNCH SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1065" locator="359:3-359:61" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1056" locator="359:25-359:60" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1064" xsi:type="ToList">
                  <operand localId="1055" locator="359:44-359:59" name="LYNCH SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1071" locator="361:1-362:50" name="FamilialAdenomatousPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1071">
               <a:s>define FamilialAdenomatousPolyposisConditions:
  </a:s>
               <a:s r="1082">
                  <a:s r="1072">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1082">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1075">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;FAP&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1082" locator="362:3-362:50" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1075" locator="362:25-362:49" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1081" path="codes" xsi:type="Property">
                  <source localId="1074" locator="362:44-362:48" name="FAP" xsi:type="ConceptRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1088" locator="364:1-365:51" name="AttenuatedFamilialAdenomatousPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1088">
               <a:s>define AttenuatedFamilialAdenomatousPolyposisConditions:
  </a:s>
               <a:s r="1099">
                  <a:s r="1089">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1099">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1092">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;AFAP&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1099" locator="365:3-365:51" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1092" locator="365:25-365:50" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1098" path="codes" xsi:type="Property">
                  <source localId="1091" locator="365:44-365:49" name="AFAP" xsi:type="ConceptRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1105" locator="367:1-368:82" name="MUTYHAssociatedPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1105">
               <a:s>define MUTYHAssociatedPolyposisConditions:
  </a:s>
               <a:s r="1118">
                  <a:s r="1106">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1118">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1109">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1118" locator="368:3-368:82" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1109" locator="368:25-368:81" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1117" xsi:type="ToList">
                  <operand localId="1108" locator="368:44-368:80" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1124" locator="370:1-371:74" name="SerratedPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1124">
               <a:s>define SerratedPolyposisConditions:
  </a:s>
               <a:s r="1137">
                  <a:s r="1125">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1137">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1128">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;SERRATED POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1137" locator="371:3-371:74" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1128" locator="371:25-371:73" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1136" xsi:type="ToList">
                  <operand localId="1127" locator="371:44-371:72" name="SERRATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1143" locator="373:1-374:74" name="JuvenilePolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1143">
               <a:s>define JuvenilePolyposisConditions:
  </a:s>
               <a:s r="1156">
                  <a:s r="1144">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1156">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1147">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;JUVENILE POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1156" locator="374:3-374:74" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1147" locator="374:25-374:73" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1155" xsi:type="ToList">
                  <operand localId="1146" locator="374:44-374:72" name="JUVENILE POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1162" locator="376:1-377:68" name="PeutzJegherSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1162">
               <a:s>define PeutzJegherSyndromeConditions:
  </a:s>
               <a:s r="1175">
                  <a:s r="1163">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1175">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1166">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;PEUTZ-JEGHER SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1175" locator="377:3-377:68" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1166" locator="377:25-377:67" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1174" xsi:type="ToList">
                  <operand localId="1165" locator="377:44-377:66" name="PEUTZ-JEGHER SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1181" locator="379:1-380:62" name="CowdenSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1181">
               <a:s>define CowdenSyndromeConditions:
  </a:s>
               <a:s r="1194">
                  <a:s r="1182">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1194">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1185">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;COWDEN SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1194" locator="380:3-380:62" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1185" locator="380:25-380:61" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1193" xsi:type="ToList">
                  <operand localId="1184" locator="380:44-380:60" name="COWDEN SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1042" locator="352:1-356:35" name="de-personalHxHereditarySyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1042">
               <a:s>//define &quot;de-hospice&quot;:
  // TODO: Implement logic for de-hospice

//define &quot;de-palliative&quot;:
  // TODO: Implement logic for de-palliative

//define &quot;de-snpltc&quot;:
  // TODO: Implement logic for de-snpltc

//define &quot;de-frailtydementiamed&quot;:
  // TODO: Implement logic for de-frailtydementiamed

//define &quot;de-frailtyadvillness&quot;:
  // TODO: Implement logic for de-frailtyadvillness

//------------------------------------------------------------------------------
// Personal or family history of hereditary syndrome
//------------------------------------------------------------------------------
define &quot;de-personalHxHereditarySyndrome&quot;:
  </a:s>
               <a:s r="1043">
                  <a:s r="1044">
                     <a:s r="1045">
                        <a:s r="1046">
                           <a:s r="1047">
                              <a:s r="1048">
                                 <a:s r="1049">
                                    <a:s r="1050">
                                       <a:s>exists </a:s>
                                       <a:s r="1066">
                                          <a:s>LynchSyndromeConditions</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or </a:s>
                                    <a:s r="1069">
                                       <a:s>exists </a:s>
                                       <a:s r="1083">
                                          <a:s>FamilialAdenomatousPolyposisConditions</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
    </a:s>
                                 <a:s r="1086">
                                    <a:s>exists </a:s>
                                    <a:s r="1100">
                                       <a:s>AttenuatedFamilialAdenomatousPolyposisConditions</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> or </a:s>
                              <a:s r="1103">
                                 <a:s>exists </a:s>
                                 <a:s r="1119">
                                    <a:s>MUTYHAssociatedPolyposisConditions</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> or
    </a:s>
                           <a:s r="1122">
                              <a:s>exists </a:s>
                              <a:s r="1138">
                                 <a:s>SerratedPolyposisConditions</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> or </a:s>
                        <a:s r="1141">
                           <a:s>exists </a:s>
                           <a:s r="1157">
                              <a:s>JuvenilePolyposisConditions</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> or </a:s>
                     <a:s r="1160">
                        <a:s>exists </a:s>
                        <a:s r="1176">
                           <a:s>PeutzJegherSyndromeConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s> or
    </a:s>
                  <a:s r="1179">
                     <a:s>exists </a:s>
                     <a:s r="1195">
                        <a:s>CowdenSyndromeConditions</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1043" locator="353:3-356:35" xsi:type="Or">
            <operand localId="1044" locator="353:3-355:116" xsi:type="Or">
               <operand localId="1045" locator="353:3-355:76" xsi:type="Or">
                  <operand localId="1046" locator="353:3-355:38" xsi:type="Or">
                     <operand localId="1047" locator="353:3-354:104" xsi:type="Or">
                        <operand localId="1048" locator="353:3-354:59" xsi:type="Or">
                           <operand localId="1049" locator="353:3-353:81" xsi:type="Or">
                              <operand localId="1050" locator="353:3-353:32" xsi:type="Exists">
                                 <signature localId="1067" xsi:type="ListTypeSpecifier">
                                    <elementType localId="1068" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="1066" locator="353:10-353:32" name="LynchSyndromeConditions" xsi:type="ExpressionRef"/>
                              </operand>
                              <operand localId="1069" locator="353:37-353:81" xsi:type="Exists">
                                 <signature localId="1084" xsi:type="ListTypeSpecifier">
                                    <elementType localId="1085" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="1083" locator="353:44-353:81" name="FamilialAdenomatousPolyposisConditions" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="1086" locator="354:5-354:59" xsi:type="Exists">
                              <signature localId="1101" xsi:type="ListTypeSpecifier">
                                 <elementType localId="1102" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                              </signature>
                              <operand localId="1100" locator="354:12-354:59" name="AttenuatedFamilialAdenomatousPolyposisConditions" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                        <operand localId="1103" locator="354:64-354:104" xsi:type="Exists">
                           <signature localId="1120" xsi:type="ListTypeSpecifier">
                              <elementType localId="1121" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="1119" locator="354:71-354:104" name="MUTYHAssociatedPolyposisConditions" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand localId="1122" locator="355:5-355:38" xsi:type="Exists">
                        <signature localId="1139" xsi:type="ListTypeSpecifier">
                           <elementType localId="1140" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="1138" locator="355:12-355:38" name="SerratedPolyposisConditions" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="1141" locator="355:43-355:76" xsi:type="Exists">
                     <signature localId="1158" xsi:type="ListTypeSpecifier">
                        <elementType localId="1159" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="1157" locator="355:50-355:76" name="JuvenilePolyposisConditions" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="1160" locator="355:81-355:116" xsi:type="Exists">
                  <signature localId="1177" xsi:type="ListTypeSpecifier">
                     <elementType localId="1178" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1176" locator="355:88-355:116" name="PeutzJegherSyndromeConditions" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1179" locator="356:5-356:35" xsi:type="Exists">
               <signature localId="1196" xsi:type="ListTypeSpecifier">
                  <elementType localId="1197" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1195" locator="356:12-356:35" name="CowdenSyndromeConditions" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1202" locator="385:1-389:15" name="RelativeSyndromeObservation" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1202">
               <a:s>define &quot;RelativeSyndromeObservation&quot;:
  </a:s>
               <a:s r="1224">
                  <a:s r="1222">
                     <a:s r="1203">
                        <a:s>C3F</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1222">
                        <a:s>MostRecent(
      </a:s>
                        <a:s r="1221">
                           <a:s>
                              <a:s r="1204">
                                 <a:s r="1207">
                                    <a:s r="1207">
                                       <a:s>[Observation: </a:s>
                                       <a:s>
                                          <a:s>&quot;Relative with hereditary syndrome&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> R</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1218">
                              <a:s>where </a:s>
                              <a:s r="1218">
                                 <a:s r="1217">
                                    <a:s r="1216">
                                       <a:s>R</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1217">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s> is not null</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1224" locator="386:3-389:15" xsi:type="Not">
            <operand localId="1223" locator="386:3-389:15" xsi:type="IsNull">
               <operand localId="1222" locator="386:3-389:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="1221" locator="387:7-388:29" xsi:type="Query">
                     <source localId="1204" locator="387:7-387:58" alias="R">
                        <expression localId="1207" locator="387:7-387:56" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                           <codes localId="1215" xsi:type="ToList">
                              <operand localId="1206" locator="387:21-387:55" name="Relative with hereditary syndrome" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <where localId="1218" locator="388:9-388:29" xsi:type="IsTrue">
                        <operand localId="1220" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1219" asType="fhir:boolean" xsi:type="As">
                              <operand localId="1217" locator="388:15-388:21" path="value" scope="R" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="1228" locator="391:1-400:9" name="RelativeWithSyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1228">
               <a:s>define &quot;RelativeWithSyndrome&quot;:
  </a:s>
               <a:s r="1330">
                  <a:s>
                     <a:s r="1229">
                        <a:s r="1230">
                           <a:s r="1230">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1231">
                     <a:s>where 
        </a:s>
                     <a:s r="1231">
                        <a:s>exists </a:s>
                        <a:s r="1327">
                           <a:s>(</a:s>
                           <a:s r="1327">
                              <a:s>
                                 <a:s r="1232">
                                    <a:s r="1234">
                                       <a:s>
                                          <a:s>F.condition</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          </a:s>
                              <a:s r="1235">
                                 <a:s>where 
          </a:s>
                                 <a:s r="1235">
                                    <a:s r="1236">
                                       <a:s r="1237">
                                          <a:s r="1238">
                                             <a:s r="1239">
                                                <a:s r="1240">
                                                   <a:s r="1241">
                                                      <a:s r="1242">
                                                         <a:s r="1243">
                                                            <a:s r="1245">
                                                               <a:s r="1244">
                                                                  <a:s>C</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1245">
                                                                  <a:s>code</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> ~ </a:s>
                                                            <a:s r="1246">
                                                               <a:s>&quot;LYNCH SYNDROME&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> or </a:s>
                                                         <a:s r="1253">
                                                            <a:s r="1255">
                                                               <a:s r="1254">
                                                                  <a:s>C</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1255">
                                                                  <a:s>code</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> ~ </a:s>
                                                            <a:s r="1256">
                                                               <a:s>&quot;FAP&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> or
          </a:s>
                                                      <a:s r="1260">
                                                         <a:s r="1262">
                                                            <a:s r="1261">
                                                               <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1262">
                                                               <a:s>code</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ~ </a:s>
                                                         <a:s r="1263">
                                                            <a:s>&quot;AFAP&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> or </a:s>
                                                   <a:s r="1267">
                                                      <a:s r="1269">
                                                         <a:s r="1268">
                                                            <a:s>C</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1269">
                                                            <a:s>code</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ~ </a:s>
                                                      <a:s r="1270">
                                                         <a:s>&quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> or 
          </a:s>
                                                <a:s r="1277">
                                                   <a:s r="1279">
                                                      <a:s r="1278">
                                                         <a:s>C</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1279">
                                                         <a:s>code</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> ~ </a:s>
                                                   <a:s r="1280">
                                                      <a:s>&quot;SERRATED POLYPOSIS SYNDROME&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> or </a:s>
                                             <a:s r="1287">
                                                <a:s r="1289">
                                                   <a:s r="1288">
                                                      <a:s>C</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1289">
                                                      <a:s>code</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="1290">
                                                   <a:s>&quot;JUVENILE POLYPOSIS SYNDROME&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> or
          </a:s>
                                          <a:s r="1297">
                                             <a:s r="1299">
                                                <a:s r="1298">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1299">
                                                   <a:s>code</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ~ </a:s>
                                             <a:s r="1300">
                                                <a:s>&quot;PEUTZ-JEGHER SYNDROME&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> or </a:s>
                                       <a:s r="1307">
                                          <a:s r="1309">
                                             <a:s r="1308">
                                                <a:s>C</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1309">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="1310">
                                             <a:s>&quot;COWDEN SYNDROME&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or </a:s>
                                    <a:s r="1317">
                                       <a:s r="1319">
                                          <a:s r="1318">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1319">
                                             <a:s>code</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="1320">
                                          <a:s>&quot;FAMILIAL COLORECTAL CANCER TYPE X&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1330" locator="392:3-400:9" xsi:type="Query">
            <source localId="1229" locator="392:3-392:25" alias="F">
               <expression localId="1230" locator="392:3-392:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <where localId="1231" locator="393:5-400:9" xsi:type="Exists">
               <signature localId="1328" xsi:type="ListTypeSpecifier">
                  <elementType localId="1329" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1327" locator="394:16-400:9" xsi:type="Query">
                  <source localId="1232" locator="394:17-394:29" alias="C">
                     <expression localId="1234" locator="394:17-394:27" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1235" locator="395:11-399:120" xsi:type="Or">
                     <operand localId="1236" locator="396:11-399:72" xsi:type="Or">
                        <operand localId="1237" locator="396:11-399:42" xsi:type="Or">
                           <operand localId="1238" locator="396:11-398:90" xsi:type="Or">
                              <operand localId="1239" locator="396:11-398:48" xsi:type="Or">
                                 <operand localId="1240" locator="396:11-397:75" xsi:type="Or">
                                    <operand localId="1241" locator="396:11-397:25" xsi:type="Or">
                                       <operand localId="1242" locator="396:11-396:53" xsi:type="Or">
                                          <operand localId="1243" locator="396:11-396:35" xsi:type="Equivalent">
                                             <signature localId="1251" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <signature localId="1252" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <operand localId="1247" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="1245" locator="396:11-396:16" path="code" scope="C" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="1249" xsi:type="ToConcept">
                                                <signature localId="1250" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                <operand localId="1246" locator="396:20-396:35" name="LYNCH SYNDROME" xsi:type="CodeRef"/>
                                             </operand>
                                          </operand>
                                          <operand localId="1253" locator="396:40-396:53" xsi:type="Equivalent">
                                             <signature localId="1258" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <signature localId="1259" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <operand localId="1257" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="1255" locator="396:40-396:45" path="code" scope="C" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="1256" locator="396:49-396:53" name="FAP" xsi:type="ConceptRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="1260" locator="397:11-397:25" xsi:type="Equivalent">
                                          <signature localId="1265" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                          <signature localId="1266" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                          <operand localId="1264" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="1262" locator="397:11-397:16" path="code" scope="C" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="1263" locator="397:20-397:25" name="AFAP" xsi:type="ConceptRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="1267" locator="397:30-397:75" xsi:type="Equivalent">
                                       <signature localId="1275" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                       <signature localId="1276" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="1271" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="1269" locator="397:30-397:35" path="code" scope="C" xsi:type="Property"/>
                                       </operand>
                                       <operand localId="1273" xsi:type="ToConcept">
                                          <signature localId="1274" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                          <operand localId="1270" locator="397:39-397:75" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1277" locator="398:11-398:48" xsi:type="Equivalent">
                                    <signature localId="1285" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <signature localId="1286" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="1281" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="1279" locator="398:11-398:16" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="1283" xsi:type="ToConcept">
                                       <signature localId="1284" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="1280" locator="398:20-398:48" name="SERRATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="1287" locator="398:53-398:90" xsi:type="Equivalent">
                                 <signature localId="1295" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <signature localId="1296" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="1291" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1289" locator="398:53-398:58" path="code" scope="C" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1293" xsi:type="ToConcept">
                                    <signature localId="1294" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="1290" locator="398:62-398:90" name="JUVENILE POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="1297" locator="399:11-399:42" xsi:type="Equivalent">
                              <signature localId="1305" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <signature localId="1306" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="1301" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1299" locator="399:11-399:16" path="code" scope="C" xsi:type="Property"/>
                              </operand>
                              <operand localId="1303" xsi:type="ToConcept">
                                 <signature localId="1304" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="1300" locator="399:20-399:42" name="PEUTZ-JEGHER SYNDROME" xsi:type="CodeRef"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1307" locator="399:47-399:72" xsi:type="Equivalent">
                           <signature localId="1315" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="1316" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="1311" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1309" locator="399:47-399:52" path="code" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="1313" xsi:type="ToConcept">
                              <signature localId="1314" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="1310" locator="399:56-399:72" name="COWDEN SYNDROME" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="1317" locator="399:77-399:120" xsi:type="Equivalent">
                        <signature localId="1325" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="1326" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1321" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1319" locator="399:77-399:82" path="code" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="1323" xsi:type="ToConcept">
                           <signature localId="1324" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="1320" locator="399:86-399:120" name="FAMILIAL COLORECTAL CANCER TYPE X" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1199" locator="382:1-383:60" name="de-famHxSyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1199">
               <a:s>define &quot;de-famHxSyndrome&quot;:
  </a:s>
               <a:s r="1200">
                  <a:s r="1225">
                     <a:s>RelativeSyndromeObservation</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1226">
                     <a:s>exists </a:s>
                     <a:s r="1331">
                        <a:s>RelativeWithSyndrome</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1200" locator="383:3-383:60" xsi:type="Or">
            <operand localId="1225" locator="383:3-383:29" name="RelativeSyndromeObservation" xsi:type="ExpressionRef"/>
            <operand localId="1226" locator="383:34-383:60" xsi:type="Exists">
               <signature localId="1332" xsi:type="ListTypeSpecifier">
                  <elementType localId="1333" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1331" locator="383:41-383:60" name="RelativeWithSyndrome" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1342" locator="419:1-420:58" name="UlcerativeColitisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1342">
               <a:s>define UlcerativeColitisConditions:
  </a:s>
               <a:s r="1350">
                  <a:s r="1343">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1350">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1346">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;ULCERATIVE COLITIS&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1350" locator="420:3-420:58" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1346" locator="420:25-420:57" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1345" locator="420:37-420:56" name="ULCERATIVE COLITIS" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1338" locator="414:1-417:49" name="de-UlcerativeColitis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1338">
               <a:s>define &quot;de-UlcerativeColitis&quot;:
  </a:s>
               <a:s r="1339">
                  <a:s>exists </a:s>
                  <a:s r="1367">
                     <a:s>
                        <a:s r="1340">
                           <a:s r="1351">
                              <a:s>
                                 <a:s>UlcerativeColitisConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1352">
                        <a:s>where </a:s>
                        <a:s r="1352">
                           <a:s r="1353">
                              <a:s r="1355">
                                 <a:s r="1354">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1355">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1356">
                                 <a:s>&quot;Condition Active&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1360">
                              <a:s r="1362">
                                 <a:s r="1361">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1362">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1363">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1339" locator="415:3-417:49" xsi:type="Exists">
            <signature localId="1368" xsi:type="ListTypeSpecifier">
               <elementType localId="1369" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1367" locator="415:10-417:49" xsi:type="Query">
               <source localId="1340" locator="415:10-415:38" alias="C">
                  <expression localId="1351" locator="415:10-415:36" name="UlcerativeColitisConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1352" locator="416:5-417:49" xsi:type="Or">
                  <operand localId="1353" locator="416:11-416:47" xsi:type="Equivalent">
                     <signature localId="1358" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1359" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1357" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1355" locator="416:11-416:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1356" locator="416:30-416:47" name="Condition Active" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1360" locator="417:10-417:49" xsi:type="Equivalent">
                     <signature localId="1365" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1366" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1364" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1362" locator="417:10-417:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1363" locator="417:29-417:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1376" locator="427:1-428:54" name="CrohnsDiseaseConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1376">
               <a:s>define CrohnsDiseaseConditions:
  </a:s>
               <a:s r="1384">
                  <a:s r="1377">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1384">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1380">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;CROHNS DISEASE&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1384" locator="428:3-428:54" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1380" locator="428:25-428:53" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1379" locator="428:37-428:52" name="CROHNS DISEASE" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1372" locator="422:1-425:49" name="de-CrohnsDisease" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1372">
               <a:s>define &quot;de-CrohnsDisease&quot;:
  </a:s>
               <a:s r="1373">
                  <a:s>exists </a:s>
                  <a:s r="1401">
                     <a:s>
                        <a:s r="1374">
                           <a:s r="1385">
                              <a:s>
                                 <a:s>CrohnsDiseaseConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1386">
                        <a:s>where </a:s>
                        <a:s r="1386">
                           <a:s r="1387">
                              <a:s r="1389">
                                 <a:s r="1388">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1389">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1390">
                                 <a:s>&quot;Condition Active&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1394">
                              <a:s r="1396">
                                 <a:s r="1395">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1396">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1397">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1373" locator="423:3-425:49" xsi:type="Exists">
            <signature localId="1402" xsi:type="ListTypeSpecifier">
               <elementType localId="1403" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1401" locator="423:10-425:49" xsi:type="Query">
               <source localId="1374" locator="423:10-423:34" alias="C">
                  <expression localId="1385" locator="423:10-423:32" name="CrohnsDiseaseConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1386" locator="424:5-425:49" xsi:type="Or">
                  <operand localId="1387" locator="424:11-424:47" xsi:type="Equivalent">
                     <signature localId="1392" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1393" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1391" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1389" locator="424:11-424:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1390" locator="424:30-424:47" name="Condition Active" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1394" locator="425:10-425:49" xsi:type="Equivalent">
                     <signature localId="1399" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1400" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1398" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1396" locator="425:10-425:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1397" locator="425:29-425:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1335" locator="411:1-412:46" name="de-IBD" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1335">
               <a:s>//define &quot;de-SyndromeGeneticMarker&quot;:
//TODO: define genetic marker

//define &quot;de-famHxGeneticMarkerSyndrome&quot;:
//TODO: define genetic marker

//------------------------------------------------------------------------------
// Personal history of IBD
//------------------------------------------------------------------------------
define &quot;de-IBD&quot;:
  </a:s>
               <a:s r="1336">
                  <a:s r="1370">
                     <a:s>&quot;de-UlcerativeColitis&quot;</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1404">
                     <a:s>&quot;de-CrohnsDisease&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1336" locator="412:3-412:46" xsi:type="Or">
            <operand localId="1370" locator="412:3-412:24" name="de-UlcerativeColitis" xsi:type="ExpressionRef"/>
            <operand localId="1404" locator="412:29-412:46" name="de-CrohnsDisease" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1413" locator="441:1-442:57" name="ColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1413">
               <a:s>define ColorectalCancerConditions:
  </a:s>
               <a:s r="1421">
                  <a:s r="1414">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1421">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1417">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1421" locator="442:3-442:57" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1417" locator="442:25-442:56" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1416" locator="442:37-442:55" name="COLORECTAL CANCER" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1409" locator="436:1-439:49" name="InactiveOrRemissionColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1409">
               <a:s>define InactiveOrRemissionColorectalCancerConditions:
  </a:s>
               <a:s r="1410">
                  <a:s>exists </a:s>
                  <a:s r="1438">
                     <a:s>
                        <a:s r="1411">
                           <a:s r="1422">
                              <a:s>
                                 <a:s>ColorectalCancerConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1423">
                        <a:s>where </a:s>
                        <a:s r="1423">
                           <a:s r="1424">
                              <a:s r="1426">
                                 <a:s r="1425">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1426">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1427">
                                 <a:s>&quot;Condition inactive&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1431">
                              <a:s r="1433">
                                 <a:s r="1432">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1433">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1434">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1410" locator="437:3-439:49" xsi:type="Exists">
            <signature localId="1439" xsi:type="ListTypeSpecifier">
               <elementType localId="1440" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1438" locator="437:10-439:49" xsi:type="Query">
               <source localId="1411" locator="437:10-437:37" alias="C">
                  <expression localId="1422" locator="437:10-437:35" name="ColorectalCancerConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1423" locator="438:5-439:49" xsi:type="Or">
                  <operand localId="1424" locator="438:11-438:49" xsi:type="Equivalent">
                     <signature localId="1429" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1430" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1428" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1426" locator="438:11-438:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1427" locator="438:30-438:49" name="Condition inactive" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1431" locator="439:10-439:49" xsi:type="Equivalent">
                     <signature localId="1436" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1437" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1435" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1433" locator="439:10-439:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1434" locator="439:29-439:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1444" locator="444:1-445:68" name="HistoryOfColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1444">
               <a:s>define HistoryOfColorectalCancerConditions:
  </a:s>
               <a:s r="1457">
                  <a:s r="1445">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1457">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1448">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;HISTORY OF COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1457" locator="445:3-445:68" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1448" locator="445:25-445:67" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1456" xsi:type="ToList">
                  <operand localId="1447" locator="445:37-445:66" name="HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1406" locator="433:1-434:93" name="de-HxCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1406">
               <a:s>//------------------------------------------------------------------------------
// Personal history of colorectal cancer
//------------------------------------------------------------------------------
define &quot;de-HxCRC&quot;:
  </a:s>
               <a:s r="1407">
                  <a:s r="1441">
                     <a:s>InactiveOrRemissionColorectalCancerConditions</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1442">
                     <a:s>exists </a:s>
                     <a:s r="1458">
                        <a:s>HistoryOfColorectalCancerConditions</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1407" locator="434:3-434:93" xsi:type="Or">
            <operand localId="1441" locator="434:3-434:47" name="InactiveOrRemissionColorectalCancerConditions" xsi:type="ExpressionRef"/>
            <operand localId="1442" locator="434:52-434:93" xsi:type="Exists">
               <signature localId="1459" xsi:type="ListTypeSpecifier">
                  <elementType localId="1460" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1458" locator="434:59-434:93" name="HistoryOfColorectalCancerConditions" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1467" locator="454:1-455:75" name="FamilyHxCRCConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1467">
               <a:s>define FamilyHxCRCConditions:
  </a:s>
               <a:s r="1480">
                  <a:s r="1468">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1480">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1471">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;FAMILY HISTORY OF COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1480" locator="455:3-455:75" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1471" locator="455:25-455:74" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1479" xsi:type="ToList">
                  <operand localId="1470" locator="455:37-455:73" name="FAMILY HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1486" locator="457:1-467:5" name="FamilyHxDiagnosisOfCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1486">
               <a:s>define FamilyHxDiagnosisOfCRC:
  </a:s>
               <a:s r="1508">
                  <a:s>
                     <a:s r="1487">
                        <a:s r="1488">
                           <a:s r="1488">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1489">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1499">
                           <a:s>
                              <a:s r="1490">
                                 <a:s r="1492">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1496">
                              <a:s>where         
          </a:s>
                              <a:s r="1496">
                                 <a:s r="1494">
                                    <a:s r="1493">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1494">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="1495">
                                    <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1500">
                     <a:s>where </a:s>
                     <a:s r="1500">
                        <a:s>exists </a:s>
                        <a:s r="1501">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1504">
                     <a:s>return </a:s>
                     <a:s r="1505">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1506">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1507">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1508" locator="458:3-467:5" xsi:type="Query">
            <source localId="1487" locator="458:3-458:25" alias="F">
               <expression localId="1488" locator="458:3-458:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1489" locator="460:7-462:39" identifier="CRCConditions">
               <expression localId="1499" locator="460:22-462:39" xsi:type="Query">
                  <source localId="1490" locator="460:22-460:34" alias="C">
                     <expression localId="1492" locator="460:22-460:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1496" locator="461:9-462:39" xsi:type="InValueSet">
                     <signature localId="1498" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <code localId="1497" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1494" locator="462:11-462:16" path="code" scope="C" xsi:type="Property"/>
                     </code>
                     <valueset localId="1495" locator="462:21-462:39" name="COLORECTAL CANCER" preserve="true"/>
                  </where>
               </expression>
            </let>
            <where localId="1500" locator="463:5-463:30" xsi:type="Exists">
               <signature localId="1502" xsi:type="ListTypeSpecifier">
                  <elementType localId="1503" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1501" locator="463:18-463:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1504" locator="464:5-467:5">
               <expression localId="1505" locator="464:12-467:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1506" locator="465:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1507" locator="466:19-466:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1519" locator="469:1-479:5" name="FamilyHxDiagnosisOfHistoryOfCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1519">
               <a:s>define FamilyHxDiagnosisOfHistoryOfCRC:
  </a:s>
               <a:s r="1545">
                  <a:s>
                     <a:s r="1520">
                        <a:s r="1521">
                           <a:s r="1521">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1522">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1536">
                           <a:s>
                              <a:s r="1523">
                                 <a:s r="1525">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1526">
                              <a:s>where         
          </a:s>
                              <a:s r="1526">
                                 <a:s r="1528">
                                    <a:s r="1527">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1528">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="1529">
                                    <a:s>&quot;HISTORY OF COLORECTAL CANCER&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1537">
                     <a:s>where </a:s>
                     <a:s r="1537">
                        <a:s>exists </a:s>
                        <a:s r="1538">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1541">
                     <a:s>return </a:s>
                     <a:s r="1542">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1543">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1544">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1545" locator="470:3-479:5" xsi:type="Query">
            <source localId="1520" locator="470:3-470:25" alias="F">
               <expression localId="1521" locator="470:3-470:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1522" locator="472:7-474:49" identifier="CRCConditions">
               <expression localId="1536" locator="472:22-474:49" xsi:type="Query">
                  <source localId="1523" locator="472:22-472:34" alias="C">
                     <expression localId="1525" locator="472:22-472:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1526" locator="473:9-474:49" xsi:type="Equivalent">
                     <signature localId="1534" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1535" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1530" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1528" locator="474:11-474:16" path="code" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1532" xsi:type="ToConcept">
                        <signature localId="1533" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1529" locator="474:20-474:49" name="HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </expression>
            </let>
            <where localId="1537" locator="475:5-475:30" xsi:type="Exists">
               <signature localId="1539" xsi:type="ListTypeSpecifier">
                  <elementType localId="1540" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1538" locator="475:18-475:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1541" locator="476:5-479:5">
               <expression localId="1542" locator="476:12-479:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1543" locator="477:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1544" locator="478:19-478:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1462" locator="450:1-452:76" name="de-FamilyHxCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1462">
               <a:s>//------------------------------------------------------------------------------
// Family history of colorectal cancer or advanced polyps
//------------------------------------------------------------------------------
define &quot;de-FamilyHxCRC&quot;:
  </a:s>
               <a:s r="1463">
                  <a:s r="1464">
                     <a:s r="1465">
                        <a:s>exists </a:s>
                        <a:s r="1481">
                           <a:s>FamilyHxCRCConditions</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
  or </a:s>
                     <a:s r="1484">
                        <a:s>exists </a:s>
                        <a:s r="1509">
                           <a:s>FamilyHxDiagnosisOfCRC</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1517">
                     <a:s>exists </a:s>
                     <a:s r="1546">
                        <a:s>FamilyHxDiagnosisOfHistoryOfCRC</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1463" locator="451:3-452:76" xsi:type="Or">
            <operand localId="1464" locator="451:3-452:34" xsi:type="Or">
               <operand localId="1465" locator="451:3-451:30" xsi:type="Exists">
                  <signature localId="1482" xsi:type="ListTypeSpecifier">
                     <elementType localId="1483" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1481" locator="451:10-451:30" name="FamilyHxCRCConditions" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1484" locator="452:6-452:34" xsi:type="Exists">
                  <signature localId="1510" xsi:type="ListTypeSpecifier">
                     <elementType localId="1511" xsi:type="TupleTypeSpecifier">
                        <element localId="1512" name="familyMemberHistory">
                           <elementType localId="1513" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element localId="1514" name="conditions">
                           <elementType localId="1515" xsi:type="ListTypeSpecifier">
                              <elementType localId="1516" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </signature>
                  <operand localId="1509" locator="452:13-452:34" name="FamilyHxDiagnosisOfCRC" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1517" locator="452:39-452:76" xsi:type="Exists">
               <signature localId="1547" xsi:type="ListTypeSpecifier">
                  <elementType localId="1548" xsi:type="TupleTypeSpecifier">
                     <element localId="1549" name="familyMemberHistory">
                        <elementType localId="1550" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element localId="1551" name="conditions">
                        <elementType localId="1552" xsi:type="ListTypeSpecifier">
                           <elementType localId="1553" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </signature>
               <operand localId="1546" locator="452:46-452:76" name="FamilyHxDiagnosisOfHistoryOfCRC" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1559" locator="485:1-486:89" name="FamilyHxPrecancerousPolypConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1559">
               <a:s>define FamilyHxPrecancerousPolypConditions:
  </a:s>
               <a:s r="1572">
                  <a:s r="1560">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1572">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1563">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1572" locator="486:3-486:89" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1563" locator="486:25-486:88" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1571" xsi:type="ToList">
                  <operand localId="1562" locator="486:37-486:87" name="FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1578" locator="488:1-498:5" name="FamilyHxDiagnosisOfPrecancerousPolyp" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1578">
               <a:s>define FamilyHxDiagnosisOfPrecancerousPolyp:
  </a:s>
               <a:s r="1604">
                  <a:s>
                     <a:s r="1579">
                        <a:s r="1580">
                           <a:s r="1580">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1581">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1595">
                           <a:s>
                              <a:s r="1582">
                                 <a:s r="1584">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1585">
                              <a:s>where         
          </a:s>
                              <a:s r="1585">
                                 <a:s r="1587">
                                    <a:s r="1586">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1587">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="1588">
                                    <a:s>&quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1596">
                     <a:s>where </a:s>
                     <a:s r="1596">
                        <a:s>exists </a:s>
                        <a:s r="1597">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1600">
                     <a:s>return </a:s>
                     <a:s r="1601">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1602">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1603">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1604" locator="489:3-498:5" xsi:type="Query">
            <source localId="1579" locator="489:3-489:25" alias="F">
               <expression localId="1580" locator="489:3-489:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1581" locator="491:7-493:62" identifier="CRCConditions">
               <expression localId="1595" locator="491:22-493:62" xsi:type="Query">
                  <source localId="1582" locator="491:22-491:34" alias="C">
                     <expression localId="1584" locator="491:22-491:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1585" locator="492:9-493:62" xsi:type="Equivalent">
                     <signature localId="1593" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1594" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1589" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1587" locator="493:11-493:16" path="code" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1591" xsi:type="ToConcept">
                        <signature localId="1592" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1588" locator="493:20-493:62" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </expression>
            </let>
            <where localId="1596" locator="494:5-494:30" xsi:type="Exists">
               <signature localId="1598" xsi:type="ListTypeSpecifier">
                  <elementType localId="1599" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1597" locator="494:18-494:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1600" locator="495:5-498:5">
               <expression localId="1601" locator="495:12-498:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1602" locator="496:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1603" locator="497:19-497:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1555" locator="481:1-483:48" name="de-FamHxAdvancedPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1555">
               <a:s>define &quot;de-FamHxAdvancedPolyps&quot;:
  </a:s>
               <a:s r="1556">
                  <a:s r="1557">
                     <a:s>exists </a:s>
                     <a:s r="1573">
                        <a:s>FamilyHxPrecancerousPolypConditions</a:s>
                     </a:s>
                  </a:s>
                  <a:s> 
  or </a:s>
                  <a:s r="1576">
                     <a:s>exists </a:s>
                     <a:s r="1605">
                        <a:s>FamilyHxDiagnosisOfPrecancerousPolyp</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1556" locator="482:3-483:48" xsi:type="Or">
            <operand localId="1557" locator="482:3-482:44" xsi:type="Exists">
               <signature localId="1574" xsi:type="ListTypeSpecifier">
                  <elementType localId="1575" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1573" locator="482:10-482:44" name="FamilyHxPrecancerousPolypConditions" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1576" locator="483:6-483:48" xsi:type="Exists">
               <signature localId="1606" xsi:type="ListTypeSpecifier">
                  <elementType localId="1607" xsi:type="TupleTypeSpecifier">
                     <element localId="1608" name="familyMemberHistory">
                        <elementType localId="1609" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element localId="1610" name="conditions">
                        <elementType localId="1611" xsi:type="ListTypeSpecifier">
                           <elementType localId="1612" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </signature>
               <operand localId="1605" locator="483:13-483:48" name="FamilyHxDiagnosisOfPrecancerousPolyp" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1618" locator="506:1-507:81" name="PotentiallyPrecancerousPolypsConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1618">
               <a:s>define PotentiallyPrecancerousPolypsConditions:
  </a:s>
               <a:s r="1631">
                  <a:s r="1619">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1631">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1622">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1631" locator="507:3-507:81" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1622" locator="507:25-507:80" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1630" xsi:type="ToList">
                  <operand localId="1621" locator="507:37-507:79" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1643" locator="569:1-570:97" name="ColonoscopyDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1643">
               <a:s>define ColonoscopyDiagnosticReports:
  </a:s>
               <a:s r="1647">
                  <a:s r="1644">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1647">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1645">
                        <a:s>&quot;Colonoscopy Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1646">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1647" locator="570:3-570:97" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1648" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1649" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1645" locator="570:52-570:70" name="Colonoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1646" locator="570:73-570:96" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1655" locator="572:1-575:93" name="ColonoscopyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1655">
               <a:s>define ColonoscopyObservations:
  </a:s>
               <a:s r="1671">
                  <a:s r="1659">
                     <a:s r="1656">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1659">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1657">
                           <a:s>&quot;Colonoscopy Study&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1658">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1665">
                     <a:s r="1662">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1665">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1663">
                           <a:s>&quot;Colonoscopy Study Observation&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1664">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1671" locator="573:3-575:93" xsi:type="Union">
            <signature localId="1672" xsi:type="ListTypeSpecifier">
               <elementType localId="1673" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1674" xsi:type="ListTypeSpecifier">
               <elementType localId="1675" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1659" locator="573:3-573:81" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1660" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1661" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1657" locator="573:36-573:54" name="Colonoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
               <operand localId="1658" locator="573:57-573:80" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
            <operand localId="1665" locator="575:3-575:93" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1669" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1670" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1667" xsi:type="ToConcept">
                  <signature localId="1668" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="1663" locator="575:36-575:66" name="Colonoscopy Study Observation" xsi:type="CodeRef"/>
               </operand>
               <operand localId="1664" locator="575:69-575:92" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1640" locator="564:1-567:74" name="ColonoscopyDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1640">
               <a:s>define ColonoscopyDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1680">
                  <a:s>
                     <a:s r="1641">
                        <a:s r="1650">
                           <a:s>
                              <a:s>ColonoscopyDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1651">
                     <a:s>where
      </a:s>
                     <a:s r="1651">
                        <a:s>exists </a:s>
                        <a:s r="1677">
                           <a:s r="1652">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1677">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1653">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>,</a:s>
                              <a:s r="1676">
                                 <a:s>ColonoscopyObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1680" locator="565:3-567:74" xsi:type="Query">
            <source localId="1641" locator="565:3-565:32" alias="D">
               <expression localId="1650" locator="565:3-565:30" name="ColonoscopyDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1651" locator="566:5-567:74" xsi:type="Exists">
               <signature localId="1678" xsi:type="ListTypeSpecifier">
                  <elementType localId="1679" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1677" locator="567:14-567:74" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1653" locator="567:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1676" locator="567:51-567:73" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1637" locator="509:1-512:55" name="PrecancerousPolypsInAnyPreviousColonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1637">
               <a:s>define PrecancerousPolypsInAnyPreviousColonoscopy:
  </a:s>
               <a:s r="1697">
                  <a:s>
                     <a:s r="1638">
                        <a:s r="1681">
                           <a:s>
                              <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="1682">
                        <a:s>cC: </a:s>
                        <a:s r="1686">
                           <a:s r="1683">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1686">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1684">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>,</a:s>
                              <a:s r="1685">
                                 <a:s>ColonoscopyObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1689">
                     <a:s>where </a:s>
                     <a:s r="1689">
                        <a:s r="1687">
                           <a:s>cC</a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="1688">
                           <a:s>&quot;Potentially Precancerous Polyp SNOMED&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1697" locator="510:3-512:55" xsi:type="Query">
            <source localId="1638" locator="510:3-510:43" alias="D">
               <expression localId="1681" locator="510:3-510:41" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
            </source>
            <let localId="1682" locator="511:9-511:73" identifier="cC">
               <expression localId="1686" locator="511:13-511:73" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1684" locator="511:48" name="D" xsi:type="AliasRef"/>
                  <operand localId="1685" locator="511:50-511:72" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
               </expression>
            </let>
            <where localId="1689" locator="512:5-512:55" xsi:type="AnyInValueSet">
               <signature localId="1695" xsi:type="ListTypeSpecifier">
                  <elementType localId="1696" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <codes localId="1690" xsi:type="Query">
                  <source localId="1691" alias="X">
                     <expression localId="1687" locator="512:11-512:12" name="cC" xsi:type="QueryLetRef"/>
                  </source>
                  <return localId="1692" distinct="false">
                     <expression localId="1694" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1693" name="X" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </codes>
               <valueset localId="1688" locator="512:17-512:55" name="Potentially Precancerous Polyp SNOMED" preserve="true"/>
            </where>
         </expression>
      </def>
      <def localId="1614" locator="503:1-504:101" name="de-HxPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1614">
               <a:s>//------------------------------------------------------------------------------
// Personal history of potentially precancerous polyps
//------------------------------------------------------------------------------
define &quot;de-HxPolyps&quot;:
  </a:s>
               <a:s r="1615">
                  <a:s r="1616">
                     <a:s>exists </a:s>
                     <a:s r="1632">
                        <a:s>PotentiallyPrecancerousPolypsConditions</a:s>
                     </a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1635">
                     <a:s>exists </a:s>
                     <a:s r="1698">
                        <a:s>PrecancerousPolypsInAnyPreviousColonoscopy</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1615" locator="504:3-504:101" xsi:type="Or">
            <operand localId="1616" locator="504:3-504:48" xsi:type="Exists">
               <signature localId="1633" xsi:type="ListTypeSpecifier">
                  <elementType localId="1634" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1632" locator="504:10-504:48" name="PotentiallyPrecancerousPolypsConditions" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1635" locator="504:53-504:101" xsi:type="Exists">
               <signature localId="1699" xsi:type="ListTypeSpecifier">
                  <elementType localId="1700" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1698" locator="504:60-504:101" name="PrecancerousPolypsInAnyPreviousColonoscopy" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1702" locator="521:1-522:89" name="ColorectalCancerScreeningDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1702">
               <a:s>//TODO consider whether lookback of 10 years is appropriate
//TODO generalize to include history of precancerous polyps from other modalities (CT colonography and flex sig)

//------------------------------------------------------------------------------
// Colorectal screening modalities
//------------------------------------------------------------------------------

//TODO Use single retrieve for all completed Diagnostic reports in lookback and then filter by modality.
define ColorectalCancerScreeningDiagnosticReports:
  </a:s>
               <a:s r="1710">
                  <a:s r="1703">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1710">
                     <a:s>CompletedDiagnosticReport(</a:s>
                     <a:s r="1706">
                        <a:s>[DiagnosticReport: </a:s>
                        <a:s>
                           <a:s>&quot;Colorectal Screening Modalities&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1710" locator="522:3-522:89" name="CompletedDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1706" locator="522:36-522:88" dataType="fhir:DiagnosticReport" templateId="http://hl7.org/fhir/StructureDefinition/DiagnosticReport" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1705" locator="522:55-522:87" name="Colorectal Screening Modalities" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1712" locator="524:1-525:54" name="AllCompletedDiagnosticReport" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1712">
               <a:s>define AllCompletedDiagnosticReport:
  </a:s>
               <a:s r="1715">
                  <a:s r="1713">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1715">
                     <a:s>CompletedDiagnosticReport(</a:s>
                     <a:s r="1714">
                        <a:s>[DiagnosticReport]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1715" locator="525:3-525:54" name="CompletedDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1714" locator="525:36-525:53" dataType="fhir:DiagnosticReport" templateId="http://hl7.org/fhir/StructureDefinition/DiagnosticReport" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="1719" locator="542:1-543:87" name="FOBTObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1719">
               <a:s>define FOBTObservations:
  </a:s>
               <a:s r="1723">
                  <a:s r="1720">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1723">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1721">
                        <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1722">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1723" locator="543:3-543:87" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1724" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1725" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1721" locator="543:36-543:60" name="Fecal Occult Blood Test" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1722" locator="543:63-543:86" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1728" locator="557:1-558:77" name="StoolDNAFITObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1728">
               <a:s>define StoolDNAFITObservations:
  </a:s>
               <a:s r="1732">
                  <a:s r="1729">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1732">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1730">
                        <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1731">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1732" locator="558:3-558:77" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1733" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1734" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1730" locator="558:36-558:50" name="Stool DNA-FIT" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1731" locator="558:53-558:76" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1748" locator="589:1-590:85" name="CTColonographyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1748">
               <a:s>define CTColonographyObservations:
  </a:s>
               <a:s r="1752">
                  <a:s r="1749">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1752">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1750">
                        <a:s>&quot;CT Colonography Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1751">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1752" locator="590:3-590:85" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1753" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1754" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1750" locator="590:36-590:58" name="CT Colonography Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1751" locator="590:61-590:84" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1767" locator="604:1-607:104" name="FlexSigObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1767">
               <a:s>define FlexSigObservations:
  </a:s>
               <a:s r="1783">
                  <a:s r="1771">
                     <a:s r="1768">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1771">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1769">
                           <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1770">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1777">
                     <a:s r="1774">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1777">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1775">
                           <a:s>&quot;Flexible Sigmoidoscopy Study Observation&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1776">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1783" locator="605:3-607:104" xsi:type="Union">
            <signature localId="1784" xsi:type="ListTypeSpecifier">
               <elementType localId="1785" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1786" xsi:type="ListTypeSpecifier">
               <elementType localId="1787" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1771" locator="605:3-605:92" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1772" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1773" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1769" locator="605:36-605:65" name="Flexible Sigmoidoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
               <operand localId="1770" locator="605:68-605:91" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
            <operand localId="1777" locator="607:3-607:104" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1781" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1782" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1779" xsi:type="ToConcept">
                  <signature localId="1780" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="1775" locator="607:36-607:77" name="Flexible Sigmoidoscopy Study Observation" xsi:type="CodeRef"/>
               </operand>
               <operand localId="1776" locator="607:80-607:103" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1717" locator="527:1-528:137" name="ColorectalCancerScreeningObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1717">
               <a:s>define ColorectalCancerScreeningObservations:
  </a:s>
               <a:s r="1789">
                  <a:s r="1761">
                     <a:s r="1742">
                        <a:s r="1736">
                           <a:s r="1726">
                              <a:s>FOBTObservations</a:s>
                           </a:s>
                           <a:s> union </a:s>
                           <a:s r="1735">
                              <a:s>StoolDNAFITObservations</a:s>
                           </a:s>
                        </a:s>
                        <a:s> union </a:s>
                        <a:s r="1741">
                           <a:s>ColonoscopyObservations</a:s>
                        </a:s>
                     </a:s>
                     <a:s> union </a:s>
                     <a:s r="1755">
                        <a:s>CTColonographyObservations</a:s>
                     </a:s>
                  </a:s>
                  <a:s> union </a:s>
                  <a:s r="1788">
                     <a:s>FlexSigObservations</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1789" locator="528:3-528:137" xsi:type="Union">
            <signature localId="1790" xsi:type="ListTypeSpecifier">
               <elementType localId="1791" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1792" xsi:type="ListTypeSpecifier">
               <elementType localId="1793" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1761" locator="528:3-528:111" xsi:type="Union">
               <signature localId="1762" xsi:type="ListTypeSpecifier">
                  <elementType localId="1763" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <signature localId="1764" xsi:type="ListTypeSpecifier">
                  <elementType localId="1765" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1736" locator="528:3-528:48" xsi:type="Union">
                  <signature localId="1737" xsi:type="ListTypeSpecifier">
                     <elementType localId="1738" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1739" xsi:type="ListTypeSpecifier">
                     <elementType localId="1740" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1726" locator="528:3-528:18" name="FOBTObservations" xsi:type="ExpressionRef"/>
                  <operand localId="1735" locator="528:26-528:48" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1756" xsi:type="Union">
                  <signature localId="1757" xsi:type="ListTypeSpecifier">
                     <elementType localId="1758" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1759" xsi:type="ListTypeSpecifier">
                     <elementType localId="1760" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1741" locator="528:56-528:78" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
                  <operand localId="1755" locator="528:86-528:111" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1788" locator="528:119-528:137" name="FlexSigObservations" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1801" locator="539:1-540:103" name="FOBTDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1801">
               <a:s>define FOBTDiagnosticReports:
  </a:s>
               <a:s r="1805">
                  <a:s r="1802">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1805">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1803">
                        <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1804">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1805" locator="540:3-540:103" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1806" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1807" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1803" locator="540:52-540:76" name="Fecal Occult Blood Test" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1804" locator="540:79-540:102" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1798" locator="534:1-537:66" name="FOBTDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1798">
               <a:s>define FOBTDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1816">
                  <a:s>
                     <a:s r="1799">
                        <a:s r="1808">
                           <a:s>
                              <a:s>FOBTDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="1809">
                     <a:s>where
    </a:s>
                     <a:s r="1809">
                        <a:s>exists </a:s>
                        <a:s r="1813">
                           <a:s r="1810">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1813">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1811">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1812">
                                 <a:s>FOBTObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1816" locator="535:3-537:66" xsi:type="Query">
            <source localId="1799" locator="535:3-535:25" alias="D">
               <expression localId="1808" locator="535:3-535:23" name="FOBTDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1809" locator="536:3-537:66" xsi:type="Exists">
               <signature localId="1814" xsi:type="ListTypeSpecifier">
                  <elementType localId="1815" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1813" locator="537:12-537:66" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1811" locator="537:47" name="D" xsi:type="AliasRef"/>
                  <operand localId="1812" locator="537:50-537:65" name="FOBTObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1795" locator="531:1-532:41" name="de-FOBT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1795">
               <a:s>//FOBT (includes FIT and gFOBT)
define &quot;de-FOBT&quot;:
  </a:s>
               <a:s r="1796">
                  <a:s>exists </a:s>
                  <a:s r="1817">
                     <a:s>FOBTDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1796" locator="532:3-532:41" xsi:type="Exists">
            <signature localId="1818" xsi:type="ListTypeSpecifier">
               <elementType localId="1819" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1817" locator="532:10-532:41" name="FOBTDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1827" locator="554:1-555:93" name="StoolDNAFITDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1827">
               <a:s>define StoolDNAFITDiagnosticReports:
  </a:s>
               <a:s r="1831">
                  <a:s r="1828">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1831">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1829">
                        <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1830">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1831" locator="555:3-555:93" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1832" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1833" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1829" locator="555:52-555:66" name="Stool DNA-FIT" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1830" locator="555:69-555:92" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1824" locator="549:1-552:75" name="StoolDNAFITDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1824">
               <a:s>define StoolDNAFITDiagnosticReportsWithResults:
   </a:s>
               <a:s r="1842">
                  <a:s>
                     <a:s r="1825">
                        <a:s r="1834">
                           <a:s>
                              <a:s>StoolDNAFITDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1835">
                     <a:s>where
      </a:s>
                     <a:s r="1835">
                        <a:s>exists </a:s>
                        <a:s r="1839">
                           <a:s r="1836">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1839">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1837">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1838">
                                 <a:s>StoolDNAFITObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1842" locator="550:4-552:75" xsi:type="Query">
            <source localId="1825" locator="550:4-550:33" alias="D">
               <expression localId="1834" locator="550:4-550:31" name="StoolDNAFITDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1835" locator="551:5-552:75" xsi:type="Exists">
               <signature localId="1840" xsi:type="ListTypeSpecifier">
                  <elementType localId="1841" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1839" locator="552:14-552:75" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1837" locator="552:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1838" locator="552:52-552:74" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1821" locator="546:1-547:50" name="de-stoolDNAFIT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1821">
               <a:s>// Stool DNA-FIT
define &quot;de-stoolDNAFIT&quot;:
    </a:s>
               <a:s r="1822">
                  <a:s>exists </a:s>
                  <a:s r="1843">
                     <a:s>StoolDNAFITDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1822" locator="547:5-547:50" xsi:type="Exists">
            <signature localId="1844" xsi:type="ListTypeSpecifier">
               <elementType localId="1845" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1843" locator="547:12-547:50" name="StoolDNAFITDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1847" locator="561:1-562:48" name="de-Colonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1847">
               <a:s>// Colonoscopy
define &quot;de-Colonoscopy&quot;: 
  </a:s>
               <a:s r="1848">
                  <a:s>exists </a:s>
                  <a:s r="1849">
                     <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1848" locator="562:3-562:48" xsi:type="Exists">
            <signature localId="1850" xsi:type="ListTypeSpecifier">
               <elementType localId="1851" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1849" locator="562:10-562:48" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1859" locator="586:1-587:101" name="CTColonographyDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1859">
               <a:s>define CTColonographyDiagnosticReports:
  </a:s>
               <a:s r="1863">
                  <a:s r="1860">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1863">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1861">
                        <a:s>&quot;CT Colonography Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1862">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1863" locator="587:3-587:101" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1864" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1865" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1861" locator="587:52-587:74" name="CT Colonography Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1862" locator="587:77-587:100" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1856" locator="581:1-584:78" name="CTColonographyDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1856">
               <a:s>define CTColonographyDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1874">
                  <a:s>
                     <a:s r="1857">
                        <a:s r="1866">
                           <a:s>
                              <a:s>CTColonographyDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1867">
                     <a:s>where
      </a:s>
                     <a:s r="1867">
                        <a:s>exists </a:s>
                        <a:s r="1871">
                           <a:s r="1868">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1871">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1869">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1870">
                                 <a:s>CTColonographyObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1874" locator="582:3-584:78" xsi:type="Query">
            <source localId="1857" locator="582:3-582:35" alias="D">
               <expression localId="1866" locator="582:3-582:33" name="CTColonographyDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1867" locator="583:5-584:78" xsi:type="Exists">
               <signature localId="1872" xsi:type="ListTypeSpecifier">
                  <elementType localId="1873" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1871" locator="584:14-584:78" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1869" locator="584:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1870" locator="584:52-584:77" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1853" locator="578:1-579:51" name="de-CTColonography" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1853">
               <a:s>// CT Colonography
define &quot;de-CTColonography&quot;:
  </a:s>
               <a:s r="1854">
                  <a:s>exists </a:s>
                  <a:s r="1875">
                     <a:s>CTColonographyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1854" locator="579:3-579:51" xsi:type="Exists">
            <signature localId="1876" xsi:type="ListTypeSpecifier">
               <elementType localId="1877" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1875" locator="579:10-579:51" name="CTColonographyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1885" locator="601:1-602:108" name="FlexSigDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1885">
               <a:s>define FlexSigDiagnosticReports:
  </a:s>
               <a:s r="1889">
                  <a:s r="1886">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1889">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1887">
                        <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1888">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1889" locator="602:3-602:108" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1890" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1891" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1887" locator="602:52-602:81" name="Flexible Sigmoidoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1888" locator="602:84-602:107" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1882" locator="596:1-599:71" name="FlexSigDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1882">
               <a:s>define FlexSigDiagnosticReportsWithResults:
   </a:s>
               <a:s r="1900">
                  <a:s>
                     <a:s r="1883">
                        <a:s r="1892">
                           <a:s>
                              <a:s>FlexSigDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1893">
                     <a:s>where
      </a:s>
                     <a:s r="1893">
                        <a:s>exists </a:s>
                        <a:s r="1897">
                           <a:s r="1894">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1897">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1895">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1896">
                                 <a:s>FlexSigObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1900" locator="597:4-599:71" xsi:type="Query">
            <source localId="1883" locator="597:4-597:29" alias="D">
               <expression localId="1892" locator="597:4-597:27" name="FlexSigDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1893" locator="598:5-599:71" xsi:type="Exists">
               <signature localId="1898" xsi:type="ListTypeSpecifier">
                  <elementType localId="1899" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1897" locator="599:14-599:71" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1895" locator="599:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1896" locator="599:52-599:70" name="FlexSigObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1879" locator="593:1-594:44" name="de-FlexSig" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1879">
               <a:s>// Flex Sig
define &quot;de-FlexSig&quot;:
  </a:s>
               <a:s r="1880">
                  <a:s>exists </a:s>
                  <a:s r="1901">
                     <a:s>FlexSigDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1880" locator="594:3-594:44" xsi:type="Exists">
            <signature localId="1902" xsi:type="ListTypeSpecifier">
               <elementType localId="1903" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1901" locator="594:10-594:44" name="FlexSigDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1914" locator="661:1-670:44" name="CRCScreeningHistory" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1914">
               <a:s>define CRCScreeningHistory:
  </a:s>
               <a:s r="1940">
                  <a:s r="1934">
                     <a:s r="1923">
                        <a:s r="1917">
                           <a:s r="1915">
                              <a:s>FOBTDiagnosticReportsWithResults</a:s>
                           </a:s>
                           <a:s>
  union
  </a:s>
                           <a:s r="1916">
                              <a:s>StoolDNAFITDiagnosticReportsWithResults</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  union
  </a:s>
                        <a:s r="1922">
                           <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  union
  </a:s>
                     <a:s r="1928">
                        <a:s>FlexSigDiagnosticReportsWithResults</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1939">
                     <a:s>CTColonographyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1940" locator="662:3-670:44" xsi:type="Union">
            <signature localId="1941" xsi:type="ListTypeSpecifier">
               <elementType localId="1942" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1943" xsi:type="ListTypeSpecifier">
               <elementType localId="1944" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1934" locator="662:3-668:37" xsi:type="Union">
               <signature localId="1935" xsi:type="ListTypeSpecifier">
                  <elementType localId="1936" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <signature localId="1937" xsi:type="ListTypeSpecifier">
                  <elementType localId="1938" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1917" locator="662:3-664:41" xsi:type="Union">
                  <signature localId="1918" xsi:type="ListTypeSpecifier">
                     <elementType localId="1919" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1920" xsi:type="ListTypeSpecifier">
                     <elementType localId="1921" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1915" locator="662:3-662:34" name="FOBTDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
                  <operand localId="1916" locator="664:3-664:41" name="StoolDNAFITDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1929" xsi:type="Union">
                  <signature localId="1930" xsi:type="ListTypeSpecifier">
                     <elementType localId="1931" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1932" xsi:type="ListTypeSpecifier">
                     <elementType localId="1933" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1922" locator="666:3-666:41" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
                  <operand localId="1928" locator="668:3-668:37" name="FlexSigDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1939" locator="670:3-670:44" name="CTColonographyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1911" locator="658:1-659:56" name="MostRecentColorectalScreeningDiagnosticReport" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1911">
               <a:s>define MostRecentColorectalScreeningDiagnosticReport:
  </a:s>
               <a:s r="1946">
                  <a:s r="1912">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1946">
                     <a:s>MostRecentDiagnosticReport(</a:s>
                     <a:s r="1945">
                        <a:s>CRCScreeningHistory</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1946" locator="659:3-659:56" name="MostRecentDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1945" locator="659:37-659:55" name="CRCScreeningHistory" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1908" locator="628:1-653:9" name="MostRecentColorectalScreeningTestResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1908">
               <a:s>define MostRecentColorectalScreeningTestResults:
  </a:s>
               <a:s r="2023">
                  <a:s>
                     <a:s r="1909">
                        <a:s r="1947">
                           <a:s>
                              <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1948">
                     <a:s>return
      </a:s>
                     <a:s r="1949">
                        <a:s>case
        </a:s>
                        <a:s r="1950">
                           <a:s>when </a:s>
                           <a:s r="1954">
                              <a:s r="1952">
                                 <a:s r="1951">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1952">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1953">
                                 <a:s>&quot;Colonoscopy Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1957">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="1958">
                                    <a:s>&quot;Colonoscopy&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="1962">
                                    <a:s r="1959">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1962">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="1960">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1961">
                                          <a:s>ColonoscopyObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="1963">
                           <a:s>when </a:s>
                           <a:s r="1967">
                              <a:s r="1965">
                                 <a:s r="1964">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1965">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1966">
                                 <a:s>&quot;CT Colonography Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1970">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="1971">
                                    <a:s>&quot;CT Colonography&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="1975">
                                    <a:s r="1972">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1975">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="1973">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1974">
                                          <a:s>CTColonographyObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="1976">
                           <a:s>when </a:s>
                           <a:s r="1980">
                              <a:s r="1978">
                                 <a:s r="1977">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1978">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1979">
                                 <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1983">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="1984">
                                    <a:s>&quot;FOBT&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="1988">
                                    <a:s r="1985">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1988">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="1986">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1987">
                                          <a:s>FOBTObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="1989">
                           <a:s>when </a:s>
                           <a:s r="1993">
                              <a:s r="1991">
                                 <a:s r="1990">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1991">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1992">
                                 <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1996">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="1997">
                                    <a:s>&quot;sDNA-FIT&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2001">
                                    <a:s r="1998">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2001">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="1999">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2000">
                                          <a:s>StoolDNAFITObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="2002">
                           <a:s>when </a:s>
                           <a:s r="2006">
                              <a:s r="2004">
                                 <a:s r="2003">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2004">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2005">
                                 <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="2009">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="2010">
                                    <a:s>&quot;Flexible Sigmoidoscopy&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2014">
                                    <a:s r="2011">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2014">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="2012">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2013">
                                          <a:s>FlexSigObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="2015">
        else null
      end</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2023" locator="629:3-653:9" xsi:type="Query">
            <source localId="1909" locator="629:3-629:49" alias="D">
               <expression localId="1947" locator="629:3-629:47" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
            </source>
            <return localId="1948" locator="630:5-653:9">
               <expression localId="1949" locator="631:7-653:9" xsi:type="Case">
                  <caseItem localId="1950" locator="632:9-635:11">
                     <when localId="1954" locator="632:14-632:42" xsi:type="InValueSet">
                        <signature localId="1956" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1955" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1952" locator="632:14-632:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1953" locator="632:24-632:42" name="Colonoscopy Study" preserve="true"/>
                     </when>
                     <then localId="1957" locator="633:11-635:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="1958" locator="633:23-633:35" name="Colonoscopy" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="1962" locator="634:22-634:83" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="1960" locator="634:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="1961" locator="634:60-634:82" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="1963" locator="636:9-639:11">
                     <when localId="1967" locator="636:14-636:46" xsi:type="InValueSet">
                        <signature localId="1969" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1968" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1965" locator="636:14-636:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1966" locator="636:24-636:46" name="CT Colonography Study" preserve="true"/>
                     </when>
                     <then localId="1970" locator="637:11-639:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="1971" locator="637:23-637:39" name="CT Colonography" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="1975" locator="638:22-638:86" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="1973" locator="638:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="1974" locator="638:60-638:85" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="1976" locator="640:9-643:11">
                     <when localId="1980" locator="640:14-640:48" xsi:type="InValueSet">
                        <signature localId="1982" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1981" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1978" locator="640:14-640:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1979" locator="640:24-640:48" name="Fecal Occult Blood Test" preserve="true"/>
                     </when>
                     <then localId="1983" locator="641:11-643:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="1984" locator="641:23-641:28" name="FOBT" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="1988" locator="642:22-642:76" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="1986" locator="642:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="1987" locator="642:60-642:75" name="FOBTObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="1989" locator="644:9-647:11">
                     <when localId="1993" locator="644:14-644:38" xsi:type="InValueSet">
                        <signature localId="1995" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1994" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1991" locator="644:14-644:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1992" locator="644:24-644:38" name="Stool DNA-FIT" preserve="true"/>
                     </when>
                     <then localId="1996" locator="645:11-647:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="1997" locator="645:23-645:32" name="sDNA-FIT" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2001" locator="646:22-646:83" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="1999" locator="646:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2000" locator="646:60-646:82" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="2002" locator="648:9-651:11">
                     <when localId="2006" locator="648:14-648:53" xsi:type="InValueSet">
                        <signature localId="2008" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="2007" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2004" locator="648:14-648:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="2005" locator="648:24-648:53" name="Flexible Sigmoidoscopy Study" preserve="true"/>
                     </when>
                     <then localId="2009" locator="649:11-651:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="2010" locator="649:23-649:46" name="Flexible Sigmoidoscopy" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2014" locator="650:22-650:79" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="2012" locator="650:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2013" locator="650:60-650:78" name="FlexSigObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <else localId="2016" xsi:type="As">
                     <operand localId="2015" locator="652:14-652:17" xsi:type="Null"/>
                     <asTypeSpecifier localId="2017" xsi:type="TupleTypeSpecifier">
                        <element localId="2018" name="modality">
                           <elementType localId="2019" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element localId="2020" name="results">
                           <elementType localId="2021" xsi:type="ListTypeSpecifier">
                              <elementType localId="2022" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </asTypeSpecifier>
                  </else>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1905" locator="613:1-614:67" name="de-MostRecentTestIsColonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1905">
               <a:s>//------------------------------------------------------------------------------
// Most recent colorectal screening/surveillance test
//------------------------------------------------------------------------------

define &quot;de-MostRecentTestIsColonoscopy&quot;:
  </a:s>
               <a:s r="1906">
                  <a:s r="2025">
                     <a:s r="2024">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2025">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2026">
                     <a:s>&quot;Colonoscopy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1906" locator="614:3-614:67" xsi:type="Equivalent">
            <signature localId="2027" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2028" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2025" locator="614:3-614:51" path="modality" xsi:type="Property">
               <source localId="2024" locator="614:3-614:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2026" locator="614:55-614:67" name="Colonoscopy" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2030" locator="616:1-617:71" name="de-MostRecentTestIsCTC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2030">
               <a:s>define &quot;de-MostRecentTestIsCTC&quot;:
  </a:s>
               <a:s r="2031">
                  <a:s r="2033">
                     <a:s r="2032">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2033">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2034">
                     <a:s>&quot;CT Colonography&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2031" locator="617:3-617:71" xsi:type="Equivalent">
            <signature localId="2035" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2036" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2033" locator="617:3-617:51" path="modality" xsi:type="Property">
               <source localId="2032" locator="617:3-617:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2034" locator="617:55-617:71" name="CT Colonography" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2038" locator="619:1-620:78" name="de-MostRecentTestIsFlexSig" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2038">
               <a:s>define &quot;de-MostRecentTestIsFlexSig&quot;:
  </a:s>
               <a:s r="2039">
                  <a:s r="2041">
                     <a:s r="2040">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2041">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2042">
                     <a:s>&quot;Flexible Sigmoidoscopy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2039" locator="620:3-620:78" xsi:type="Equivalent">
            <signature localId="2043" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2044" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2041" locator="620:3-620:51" path="modality" xsi:type="Property">
               <source localId="2040" locator="620:3-620:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2042" locator="620:55-620:78" name="Flexible Sigmoidoscopy" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2046" locator="622:1-623:60" name="de-MostRecentTestIsFOBT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2046">
               <a:s>define &quot;de-MostRecentTestIsFOBT&quot;:
  </a:s>
               <a:s r="2047">
                  <a:s r="2049">
                     <a:s r="2048">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2049">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2050">
                     <a:s>&quot;FOBT&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2047" locator="623:3-623:60" xsi:type="Equivalent">
            <signature localId="2051" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2052" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2049" locator="623:3-623:51" path="modality" xsi:type="Property">
               <source localId="2048" locator="623:3-623:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2050" locator="623:55-623:60" name="FOBT" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2054" locator="625:1-626:64" name="de-MostRecentTestIssDNAFIT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2054">
               <a:s>define &quot;de-MostRecentTestIssDNAFIT&quot;:
  </a:s>
               <a:s r="2055">
                  <a:s r="2057">
                     <a:s r="2056">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2057">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2058">
                     <a:s>&quot;sDNA-FIT&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2055" locator="626:3-626:64" xsi:type="Equivalent">
            <signature localId="2059" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2060" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2057" locator="626:3-626:51" path="modality" xsi:type="Property">
               <source localId="2056" locator="626:3-626:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2058" locator="626:55-626:64" name="sDNA-FIT" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2062" locator="655:1-656:76" name="MostRecentColorectalScreeningDate" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2062">
               <a:s>define MostRecentColorectalScreeningDate:
  </a:s>
               <a:s r="2065">
                  <a:s r="2063">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="2065">
                     <a:s>DiagnosticReportDate(</a:s>
                     <a:s r="2064">
                        <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2065" locator="656:3-656:76" name="DiagnosticReportDate" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="2064" locator="656:31-656:75" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="2079" locator="703:1-706:29" name="ActiveColonoscopyOrders" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2079">
               <a:s>define ActiveColonoscopyOrders:
  </a:s>
               <a:s r="2102">
                  <a:s>
                     <a:s r="2080">
                        <a:s r="2083">
                           <a:s r="2083">
                              <a:s>[ServiceRequest: </a:s>
                              <a:s>
                                 <a:s>&quot;COLONOSCOPY ORDERS&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2087">
                     <a:s>where </a:s>
                     <a:s r="2087">
                        <a:s r="2092">
                           <a:s r="2089">
                              <a:s r="2088">
                                 <a:s>O</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2089">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="2090">
                              <a:s>{</a:s>
                              <a:s r="2091">
                                 <a:s>'active'</a:s>
                              </a:s>
                              <a:s>}</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    and </a:s>
                        <a:s r="2099">
                           <a:s r="2096">
                              <a:s r="2095">
                                 <a:s>O</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2096">
                                 <a:s>intent</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="2097">
                              <a:s>{</a:s>
                              <a:s r="2098">
                                 <a:s>'order'</a:s>
                              </a:s>
                              <a:s>}</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2102" locator="704:3-706:29" xsi:type="Query">
            <source localId="2080" locator="704:3-704:42" alias="O">
               <expression localId="2083" locator="704:3-704:40" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes localId="2082" locator="704:20-704:39" name="COLONOSCOPY ORDERS" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2087" locator="705:5-706:29" xsi:type="And">
               <operand localId="2092" locator="705:11-705:32" xsi:type="In">
                  <operand localId="2093" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="2094" name="fhir:ServiceRequestStatus" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="2089" locator="705:11-705:18" path="status" scope="O" xsi:type="Property"/>
                  </operand>
                  <operand localId="2090" locator="705:23-705:32" xsi:type="List">
                     <element localId="2091" locator="705:24-705:31" valueType="t:String" value="active" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="2099" locator="706:9-706:29" xsi:type="In">
                  <operand localId="2100" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="2101" name="fhir:ServiceRequestIntent" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="2096" locator="706:9-706:16" path="intent" scope="O" xsi:type="Property"/>
                  </operand>
                  <operand localId="2097" locator="706:21-706:29" xsi:type="List">
                     <element localId="2098" locator="706:22-706:28" valueType="t:String" value="order" xsi:type="Literal"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="2076" locator="694:1-701:3" name="PendingColonoscopyOrdersReportDate" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2076">
               <a:s>//TODO: determine how to look for non-test result, like specialty consult note
//TODO: use the ActiveServiceRequestOrders function from the common functions library
define PendingColonoscopyOrdersReportDate:
  </a:s>
               <a:s r="2114">
                  <a:s>
                     <a:s r="2077">
                        <a:s r="2103">
                           <a:s>
                              <a:s>ActiveColonoscopyOrders</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="2104">
                        <a:s>lastReport: </a:s>
                        <a:s r="2105">
                           <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
  </a:s>
                     <a:s r="2106">
                        <a:s>lastReportDate: </a:s>
                        <a:s r="2109">
                           <a:s r="2107">
                              <a:s>Common</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="2109">
                              <a:s>DiagnosticReportDate(</a:s>
                              <a:s r="2108">
                                 <a:s>lastReport</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="2110">
                     <a:s>return </a:s>
                     <a:s r="2111">
                        <a:s>{
    </a:s>
                        <a:s>
                           <a:s>request: </a:s>
                           <a:s r="2112">
                              <a:s>O</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>lastReportDate: </a:s>
                           <a:s r="2113">
                              <a:s>lastReportDate</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2114" locator="695:3-701:3" xsi:type="Query">
            <source localId="2077" locator="695:3-695:27" alias="O">
               <expression localId="2103" locator="695:3-695:25" name="ActiveColonoscopyOrders" xsi:type="ExpressionRef"/>
            </source>
            <let localId="2104" locator="696:7-696:63" identifier="lastReport">
               <expression localId="2105" locator="696:19-696:63" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
            </let>
            <let localId="2106" locator="697:3-697:57" identifier="lastReportDate">
               <expression localId="2109" locator="697:19-697:57" name="DiagnosticReportDate" libraryName="Common" xsi:type="FunctionRef">
                  <operand localId="2108" locator="697:47-697:56" name="lastReport" xsi:type="QueryLetRef"/>
               </expression>
            </let>
            <return localId="2110" locator="698:3-701:3">
               <expression localId="2111" locator="698:10-701:3" xsi:type="Tuple">
                  <element name="request">
                     <value localId="2112" locator="699:14" name="O" xsi:type="AliasRef"/>
                  </element>
                  <element name="lastReportDate">
                     <value localId="2113" locator="700:21-700:34" name="lastReportDate" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="2073" locator="684:1-690:5" name="PendingColonoscopyOrdersWithoutSubsequentReport" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2073">
               <a:s>define PendingColonoscopyOrdersWithoutSubsequentReport:
  </a:s>
               <a:s r="2164">
                  <a:s>
                     <a:s r="2074">
                        <a:s r="2115">
                           <a:s>
                              <a:s>PendingColonoscopyOrdersReportDate</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2116">
                     <a:s>where </a:s>
                     <a:s r="2116">
                        <a:s r="2117">
                           <a:s r="2120">
                              <a:s r="2119">
                                 <a:s r="2118">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2119">
                                    <a:s>lastReportDate</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is null</a:s>
                           </a:s>
                           <a:s>
    or </a:s>
                           <a:s r="2121">
                              <a:s>(</a:s>
                              <a:s r="2121">
                                 <a:s r="2128">
                                    <a:s r="2122">
                                       <a:s r="2125">
                                          <a:s r="2124">
                                             <a:s r="2123">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2124">
                                                <a:s>request</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2125">
                                             <a:s>occurrence</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> as </a:s>
                                       <a:s r="2126">
                                          <a:s>FHIR.dateTime</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is not null</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="2129">
                                    <a:s r="2131">
                                       <a:s r="2130">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2131">
                                          <a:s>lastReportDate</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> &lt;= </a:s>
                                    <a:s r="2132">
                                       <a:s r="2135">
                                          <a:s r="2134">
                                             <a:s r="2133">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2134">
                                                <a:s>request</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2135">
                                             <a:s>occurrence</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> as </a:s>
                                       <a:s r="2136">
                                          <a:s>FHIR.dateTime</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="2141">
                           <a:s>(</a:s>
                           <a:s r="2141">
                              <a:s r="2148">
                                 <a:s r="2142">
                                    <a:s r="2145">
                                       <a:s r="2144">
                                          <a:s r="2143">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2144">
                                             <a:s>request</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2145">
                                          <a:s>occurrence</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="2146">
                                       <a:s>FHIR.Period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is not null</a:s>
                              </a:s>
                              <a:s> 
      and </a:s>
                              <a:s r="2163">
                                 <a:s r="2158">
                                    <a:s>(</a:s>
                                    <a:s r="2158">
                                       <a:s r="2150">
                                          <a:s r="2149">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2150">
                                             <a:s>lastReportDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="2157">
                                          <a:s r="2151">
                                             <a:s>C3F</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2157">
                                             <a:s>PeriodToInterval(</a:s>
                                             <a:s r="2152">
                                                <a:s r="2155">
                                                   <a:s r="2154">
                                                      <a:s r="2153">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="2154">
                                                         <a:s>request</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2155">
                                                      <a:s>occurrence</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> as </a:s>
                                                <a:s r="2156">
                                                   <a:s>FHIR.Period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> is not true</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2164" locator="685:3-690:5" xsi:type="Query">
            <source localId="2074" locator="685:3-685:38" alias="O">
               <expression localId="2115" locator="685:3-685:36" name="PendingColonoscopyOrdersReportDate" xsi:type="ExpressionRef"/>
            </source>
            <where localId="2116" locator="686:5-690:5" xsi:type="Or">
               <operand localId="2117" locator="686:11-687:120" xsi:type="Or">
                  <operand localId="2120" locator="686:11-686:34" xsi:type="IsNull">
                     <operand localId="2119" locator="686:11-686:26" path="lastReportDate" scope="O" xsi:type="Property"/>
                  </operand>
                  <operand localId="2121" locator="687:8-687:120" xsi:type="And">
                     <operand localId="2128" locator="687:9-687:57" xsi:type="Not">
                        <operand localId="2127" locator="687:9-687:57" xsi:type="IsNull">
                           <operand localId="2122" locator="687:9-687:45" strict="false" xsi:type="As">
                              <operand localId="2125" locator="687:9-687:28" path="occurrence" xsi:type="Property">
                                 <source localId="2124" locator="687:9-687:17" path="request" scope="O" xsi:type="Property"/>
                              </operand>
                              <asTypeSpecifier localId="2126" locator="687:33-687:45" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="2129" locator="687:63-687:119" xsi:type="LessOrEqual">
                        <signature localId="2139" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="2140" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="2131" locator="687:63-687:78" path="lastReportDate" scope="O" xsi:type="Property"/>
                        <operand localId="2137" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <signature localId="2138" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="2132" locator="687:83-687:119" strict="false" xsi:type="As">
                              <operand localId="2135" locator="687:83-687:102" path="occurrence" xsi:type="Property">
                                 <source localId="2134" locator="687:83-687:91" path="request" scope="O" xsi:type="Property"/>
                              </operand>
                              <asTypeSpecifier localId="2136" locator="687:107-687:119" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2141" locator="688:8-690:5" xsi:type="And">
                  <operand localId="2148" locator="688:9-688:55" xsi:type="Not">
                     <operand localId="2147" locator="688:9-688:55" xsi:type="IsNull">
                        <operand localId="2142" locator="688:9-688:43" strict="false" xsi:type="As">
                           <operand localId="2145" locator="688:9-688:28" path="occurrence" xsi:type="Property">
                              <source localId="2144" locator="688:9-688:17" path="request" scope="O" xsi:type="Property"/>
                           </operand>
                           <asTypeSpecifier localId="2146" locator="688:33-688:43" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="2163" locator="689:11-689:101" xsi:type="Not">
                     <operand localId="2162" locator="689:11-689:101" xsi:type="IsTrue">
                        <operand localId="2158" locator="689:11-689:89" xsi:type="In">
                           <signature localId="2159" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="2160" xsi:type="IntervalTypeSpecifier">
                              <pointType localId="2161" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="2150" locator="689:12-689:27" path="lastReportDate" scope="O" xsi:type="Property"/>
                           <operand localId="2157" locator="689:32-689:88" name="PeriodToInterval" libraryName="C3F" xsi:type="FunctionRef">
                              <operand localId="2152" locator="689:53-689:87" strict="false" xsi:type="As">
                                 <operand localId="2155" locator="689:53-689:72" path="occurrence" xsi:type="Property">
                                    <source localId="2154" locator="689:53-689:61" path="request" scope="O" xsi:type="Property"/>
                                 </operand>
                                 <asTypeSpecifier localId="2156" locator="689:77-689:87" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="2070" locator="680:1-682:20" name="pendingColonoscopyOrders" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2070">
               <a:s>define pendingColonoscopyOrders:
  </a:s>
               <a:s r="2169">
                  <a:s>
                     <a:s r="2071">
                        <a:s r="2165">
                           <a:s>
                              <a:s>PendingColonoscopyOrdersWithoutSubsequentReport</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2166">
                     <a:s>return </a:s>
                     <a:s r="2168">
                        <a:s r="2167">
                           <a:s>O</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2168">
                           <a:s>request</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2169" locator="681:3-682:20" xsi:type="Query">
            <source localId="2071" locator="681:3-681:51" alias="O">
               <expression localId="2165" locator="681:3-681:49" name="PendingColonoscopyOrdersWithoutSubsequentReport" xsi:type="ExpressionRef"/>
            </source>
            <return localId="2166" locator="682:5-682:20">
               <expression localId="2168" locator="682:12-682:20" path="request" scope="O" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="2067" locator="677:1-678:33" name="de-pendingOrderReferralForCRCTest" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2067">
               <a:s>//------------------------------------------------------------------------------
// Pending screening test orders or referrals
//------------------------------------------------------------------------------

//TODO: add other modalities
define &quot;de-pendingOrderReferralForCRCTest&quot;:
  </a:s>
               <a:s r="2068">
                  <a:s>exists </a:s>
                  <a:s r="2170">
                     <a:s>pendingColonoscopyOrders</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2068" locator="678:3-678:33" xsi:type="Exists">
            <signature localId="2171" xsi:type="ListTypeSpecifier">
               <elementType localId="2172" name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2170" locator="678:10-678:33" name="pendingColonoscopyOrders" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="2174" locator="708:1-709:61" name="ActiveColorectalCancerScreeningOrders" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2174">
               <a:s>define ActiveColorectalCancerScreeningOrders:
  </a:s>
               <a:s r="2177">
                  <a:s r="2175">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="2177">
                     <a:s>ActiveServiceRequestOrders(</a:s>
                     <a:s r="2176">
                        <a:s>&quot;Colonoscopy Study&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2177" locator="709:3-709:61" name="ActiveServiceRequestOrders" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <operand localId="2176" locator="709:42-709:60" name="Colonoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="2179" locator="716:1-721:7" name="de-FindingPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2179">
               <a:s>//------------------------------------------------------------------------------
// Findings of testing reports
//------------------------------------------------------------------------------

//TODO Add CollateConclusionCodes function that takes list&lt;FHIR.CodeableConcept> as argument?
define &quot;de-FindingPolyps&quot;:
  </a:s>
               <a:s r="2180">
                  <a:s>exists </a:s>
                  <a:s r="2198">
                     <a:s>
                        <a:s r="2181">
                           <a:s r="2183">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2197">
                        <a:s>where </a:s>
                        <a:s r="2197">
                           <a:s>AnyTrue(
      </a:s>
                           <a:s r="2194">
                              <a:s>
                                 <a:s r="2184">
                                    <a:s r="2186">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2187">
                                 <a:s>return </a:s>
                                 <a:s r="2192">
                                    <a:s r="2190">
                                       <a:s r="2188">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2190">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2189">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2191">
                                       <a:s>&quot;Potentially Precancerous Polyp SNOMED&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2180" locator="717:3-721:7" xsi:type="Exists">
            <signature localId="2199" xsi:type="ListTypeSpecifier">
               <elementType localId="2200" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2198" locator="717:10-721:7" xsi:type="Query">
               <source localId="2181" locator="717:10-717:59" alias="R">
                  <expression localId="2183" locator="717:10-717:57" path="results" xsi:type="Property">
                     <source localId="2182" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2197" locator="718:5-721:7" xsi:type="AnyTrue">
                  <source localId="2194" locator="719:7-720:79" xsi:type="Query">
                     <source localId="2184" locator="719:7-719:16" alias="C">
                        <expression localId="2186" locator="719:7-719:14" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2187" locator="720:9-720:79">
                        <expression localId="2192" locator="720:16-720:79" xsi:type="InValueSet">
                           <signature localId="2193" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <code localId="2190" locator="720:16-720:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2189" locator="720:35" name="C" xsi:type="AliasRef"/>
                           </code>
                           <valueset localId="2191" locator="720:41-720:79" name="Potentially Precancerous Polyp SNOMED" preserve="true"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2202" locator="723:1-729:9" name="de-FindingCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2202">
               <a:s>define &quot;de-FindingCRC&quot;:
  </a:s>
               <a:s r="2203">
                  <a:s>exists </a:s>
                  <a:s r="2221">
                     <a:s>
                        <a:s r="2204">
                           <a:s r="2206">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
      </a:s>
                     <a:s r="2220">
                        <a:s>where
        </a:s>
                        <a:s r="2220">
                           <a:s>AnyTrue(
          </a:s>
                           <a:s r="2217">
                              <a:s>
                                 <a:s r="2207">
                                    <a:s r="2209">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
            </a:s>
                              <a:s r="2210">
                                 <a:s>return </a:s>
                                 <a:s r="2215">
                                    <a:s r="2213">
                                       <a:s r="2211">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2213">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2212">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2214">
                                       <a:s>&quot;Colorectal Cancer SNOMED&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2203" locator="724:3-729:9" xsi:type="Exists">
            <signature localId="2222" xsi:type="ListTypeSpecifier">
               <elementType localId="2223" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2221" locator="724:10-729:9" xsi:type="Query">
               <source localId="2204" locator="724:10-724:59" alias="R">
                  <expression localId="2206" locator="724:10-724:57" path="results" xsi:type="Property">
                     <source localId="2205" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2220" locator="725:7-729:9" xsi:type="AnyTrue">
                  <source localId="2217" locator="727:11-728:70" xsi:type="Query">
                     <source localId="2207" locator="727:11-727:20" alias="C">
                        <expression localId="2209" locator="727:11-727:18" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2210" locator="728:13-728:70">
                        <expression localId="2215" locator="728:20-728:70" xsi:type="InValueSet">
                           <signature localId="2216" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <code localId="2213" locator="728:20-728:40" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2212" locator="728:39" name="C" xsi:type="AliasRef"/>
                           </code>
                           <valueset localId="2214" locator="728:45-728:70" name="Colorectal Cancer SNOMED" preserve="true"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2225" locator="731:1-739:8" name="de-CTCInconclusive" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2225">
               <a:s>define &quot;de-CTCInconclusive&quot;:
  </a:s>
               <a:s r="2226">
                  <a:s>exists </a:s>
                  <a:s r="2248">
                     <a:s>
                        <a:s r="2227">
                           <a:s r="2229">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2247">
                        <a:s>where
      </a:s>
                        <a:s r="2247">
                           <a:s>AnyTrue(
        </a:s>
                           <a:s r="2244">
                              <a:s>
                                 <a:s r="2230">
                                    <a:s r="2232">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          </a:s>
                              <a:s r="2233">
                                 <a:s>return </a:s>
                                 <a:s r="2240">
                                    <a:s r="2236">
                                       <a:s r="2234">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2236">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2235">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in
            </a:s>
                                    <a:s r="2237">
                                       <a:s>{</a:s>
                                       <a:s r="2238">
                                          <a:s>&quot;C-RADS 2005 C0&quot;</a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s r="2239">
                                          <a:s>&quot;C-RADS 2023 C0&quot;</a:s>
                                       </a:s>
                                       <a:s>
      }</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2226" locator="732:3-739:8" xsi:type="Exists">
            <signature localId="2249" xsi:type="ListTypeSpecifier">
               <elementType localId="2250" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2248" locator="732:10-739:8" xsi:type="Query">
               <source localId="2227" locator="732:10-732:59" alias="R">
                  <expression localId="2229" locator="732:10-732:57" path="results" xsi:type="Property">
                     <source localId="2228" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2247" locator="733:5-739:8" xsi:type="AnyTrue">
                  <source localId="2244" locator="735:9-739:7" xsi:type="Query">
                     <source localId="2230" locator="735:9-735:18" alias="C">
                        <expression localId="2232" locator="735:9-735:16" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2233" locator="736:11-739:7">
                        <expression localId="2240" locator="736:18-739:7" xsi:type="In">
                           <signature localId="2241" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="2242" xsi:type="ListTypeSpecifier">
                              <elementType localId="2243" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="2236" locator="736:18-736:38" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2235" locator="736:37" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2237" locator="737:13-739:7" xsi:type="List">
                              <element localId="2238" locator="737:14-737:29" name="C-RADS 2005 C0" xsi:type="CodeRef"/>
                              <element localId="2239" locator="738:13-738:28" name="C-RADS 2023 C0" xsi:type="CodeRef"/>
                           </operand>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2252" locator="741:1-750:8" name="de-CTCFindingPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2252">
               <a:s>define &quot;de-CTCFindingPolyps&quot;:
  </a:s>
               <a:s r="2253">
                  <a:s>exists </a:s>
                  <a:s r="2277">
                     <a:s>
                        <a:s r="2254">
                           <a:s r="2256">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2276">
                        <a:s>where
      </a:s>
                        <a:s r="2276">
                           <a:s>AnyTrue(</a:s>
                           <a:s r="2273">
                              <a:s>
                                 <a:s r="2257">
                                    <a:s r="2259">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2260">
                                 <a:s>return </a:s>
                                 <a:s r="2269">
                                    <a:s r="2263">
                                       <a:s r="2261">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2263">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2262">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2264">
                                       <a:s>{
          </a:s>
                                       <a:s r="2265">
                                          <a:s>&quot;C-RADS 2005 C2&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2266">
                                          <a:s>&quot;C-RADS 2023 C2a&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2267">
                                          <a:s>&quot;C-RADS 2005 C3&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2268">
                                          <a:s>&quot;C-RADS 2023 C3&quot;</a:s>
                                       </a:s>
                                       <a:s>
      }</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2253" locator="742:3-750:8" xsi:type="Exists">
            <signature localId="2278" xsi:type="ListTypeSpecifier">
               <elementType localId="2279" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2277" locator="742:10-750:8" xsi:type="Query">
               <source localId="2254" locator="742:10-742:59" alias="R">
                  <expression localId="2256" locator="742:10-742:57" path="results" xsi:type="Property">
                     <source localId="2255" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2276" locator="743:5-750:8" xsi:type="AnyTrue">
                  <source localId="2273" locator="744:15-750:7" xsi:type="Query">
                     <source localId="2257" locator="744:15-744:24" alias="C">
                        <expression localId="2259" locator="744:15-744:22" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2260" locator="745:9-750:7">
                        <expression localId="2269" locator="745:16-750:7" xsi:type="In">
                           <signature localId="2270" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="2271" xsi:type="ListTypeSpecifier">
                              <elementType localId="2272" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="2263" locator="745:16-745:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2262" locator="745:35" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2264" locator="745:41-750:7" xsi:type="List">
                              <element localId="2265" locator="746:11-746:26" name="C-RADS 2005 C2" xsi:type="CodeRef"/>
                              <element localId="2266" locator="747:11-747:27" name="C-RADS 2023 C2a" xsi:type="CodeRef"/>
                              <element localId="2267" locator="748:11-748:26" name="C-RADS 2005 C3" xsi:type="CodeRef"/>
                              <element localId="2268" locator="749:11-749:26" name="C-RADS 2023 C3" xsi:type="CodeRef"/>
                           </operand>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2281" locator="752:1-757:9" name="de-CTCFindingCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2281">
               <a:s>define &quot;de-CTCFindingCRC&quot;:
  </a:s>
               <a:s r="2282">
                  <a:s>exists </a:s>
                  <a:s r="2301">
                     <a:s>
                        <a:s r="2283">
                           <a:s r="2285">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2300">
                        <a:s>where
      </a:s>
                        <a:s r="2300">
                           <a:s>AnyTrue(</a:s>
                           <a:s r="2297">
                              <a:s>
                                 <a:s r="2286">
                                    <a:s r="2288">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2289">
                                 <a:s>return </a:s>
                                 <a:s r="2290">
                                    <a:s r="2293">
                                       <a:s r="2291">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2293">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2292">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="2294">
                                       <a:s>&quot;C-RADS 2023 C4&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2282" locator="753:3-757:9" xsi:type="Exists">
            <signature localId="2302" xsi:type="ListTypeSpecifier">
               <elementType localId="2303" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2301" locator="753:10-757:9" xsi:type="Query">
               <source localId="2283" locator="753:10-753:59" alias="R">
                  <expression localId="2285" locator="753:10-753:57" path="results" xsi:type="Property">
                     <source localId="2284" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2300" locator="754:5-757:9" xsi:type="AnyTrue">
                  <source localId="2297" locator="755:15-756:55" xsi:type="Query">
                     <source localId="2286" locator="755:15-755:24" alias="C">
                        <expression localId="2288" locator="755:15-755:22" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2289" locator="756:9-756:55">
                        <expression localId="2290" locator="756:16-756:55" xsi:type="Equivalent">
                           <signature localId="2295" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="2296" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="2293" locator="756:16-756:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2292" locator="756:35" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2294" locator="756:40-756:55" name="C-RADS 2023 C4" xsi:type="CodeRef"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
   </statements>
</library>
